{"componentChunkName":"component---src-templates-article-jsx","path":"/blog/development/os-paging","result":{"data":{"datoCmsMiscTextString":{"locale":"ko-KR","updatedAtText":"업데이트됨","nextReadText":"관련있는 게시물"},"datoCmsBlogPost":{"locale":"ko-KR","originalId":"181343902","title":"[운영체제][OSTEP] 페이징","seo":{"seoTitle":"[운영체제][OSTEP] 페이징","seoDescription":"페이지를 사용하여 메모리를 가상화하는 방법에 대해 공부해봅니다.","seoImage":{"seoImageUrl":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format"}},"subtitle":"페이지를 사용하여 메모리를 가상화하는 방법에 대해 공부해봅니다.","coverImage":{"coverImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.25&w=860 215w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.5&w=860 430w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860 860w","sizes":"(min-width: 860px) 860px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgLCgoLDhMVDhcNDh0VDxUSGhYdHSIVFhUaKysjGh0oHSEWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLCgUFEBAOEC8oIhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAwAGAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAFAQQGAP/EAB0QAAEEAgMAAAAAAAAAAAAAAAEAAgMEESEFEjL/xAAWAQADAAAAAAAAAAAAAAAAAAAAAQP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDD1KM1uPLjpIRUI4GZc4aRXH25hTOHqqbth7yDIVIiXI2IQzqCoREhL/RyuQH/2Q=="},"width":860,"height":430}},"meta":{"updatedAt":"2023-08-01T02:16:32.054+09:00","firstPublishedAt":"2023-07-31T00:36:55.942+09:00"},"categoryLink":{"title":"개발 공부","id":"4743072"},"author":{"authorName":"손승열(Son Seungyeol)","picture":{"authorPictureData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 60px) 60px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgWEQ8LDhgYDhUNDhgNDw8NFxUdGBYfFhUaHysjGikoHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHBANHDUcIig7NS81NS81MjUvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAFAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAABQYHAv/EAB4QAAICAgMBAQAAAAAAAAAAAAABAgMFBgQRQXEi/8QAFQEBAQAAAAAAAAAAAAAAAAAABAP/xAAaEQACAwEBAAAAAAAAAAAAAAAAAQIDEhMR/9oADAMBAAIRAxEAPwDT8/1LHSK/r67scevSfz99VXBkm/Cva/zKle/pCc/JoRXWsFujxvygcLI1pAXqQTmjONm2RzpceyCwmwxpsbbADWJdBFbeCfe2wXoAGpIL6z//2Q=="},"width":60,"height":60}}},"relatedPosts":[{"id":"179076819","meta":{"updatedAt":"2023-07-31T00:37:08.451+09:00"},"categoryLink":{"title":"개발 공부"},"coverImage":{"gatsbyImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.09&w=860 75w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.18&w=860 150w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860 300w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.7&w=860 600w","sizes":"(min-width: 300px) 300px, 100vw"}},"layout":"constrained","width":300,"height":120},"squaredImage":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.06&fit=crop&fp-x=0.5&fp-y=0.5&w=430 25w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.12&fit=crop&fp-x=0.5&fp-y=0.5&w=430 50w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430 100w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.47&fit=crop&fp-x=0.5&fp-y=0.5&w=430 200w","sizes":"(min-width: 100px) 100px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhINEBAQCggUDg0IDgcHFh0JFhEYFxUZGCIVFhUaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OEg4REC8dFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAGAMBIgACEQEDEQH/xAAaAAEBAAIDAAAAAAAAAAAAAAAABAUGAQID/8QAHRAAAgICAwEAAAAAAAAAAAAAAAIDBAEREhQVBf/EABYBAQEBAAAAAAAAAAAAAAAAAAADAf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/ANASs2WLoaraMl1o0O241wSYlSHjgHM9hVAEFr6bKSemzAAeclpnAAH/2Q=="},"width":100,"height":100}},"author":{"authorName":"손승열(Son Seungyeol)","picture":{"authorImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.11&w=77 8w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 30px) 30px, 100vw"}},"layout":"constrained","width":30,"height":30}}},"subtitle":"메모리의 빈 공간을 관리하는 방법에 대해 공부해봅니다.","title":"[운영체제][OSTEP] 빈 공간 관리"}],"structuredBody":{"blocks":[],"links":[],"value":{"schema":"dast","document":{"type":"root","children":[{"type":"heading","level":2,"children":[{"type":"span","value":"🚪 들어가며"}]},{"type":"paragraph","children":[{"type":"span","value":"운영체제는 거의 모든 공간 관리 문제를 해결할 때 두 가지 중 하나를 사용"}]},{"type":"paragraph","children":[{"type":"span","value":"[1] 가변 크기의 조각들로 분할 ➡️ "},{"type":"span","marks":["highlight"],"value":"단편화(fragmented)"},{"type":"span","value":" 문제"}]},{"type":"paragraph","children":[{"type":"span","value":"[2] 공간을 동일 크기의 조각으로 분할 ➡️ "},{"type":"span","marks":["highlight"],"value":"페이징(paging)"}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"페이지(page)"},{"type":"span","value":": 프로세스의 주소 공간을 몇 개의 가변 크기의 논리 세그멘트(코드, 힙, 스택 등)로 나누는 것이 아닌, 고정 크기의 단위로 나눌 때의 단위"}]},{"type":"paragraph","children":[{"type":"span","value":"이에 상응하여 물리 메모리도 "},{"type":"span","marks":["highlight"],"value":"페이지 프레임(page frame)"},{"type":"span","value":"이라고 불리는 고정 크기의 슬롯의 배열이라고 생각 ➡️ 이 프레임 각각은 하나의 가상 메모리 페이지를 저장"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"1️⃣ 간단한 예제 및 개요"}]},{"type":"paragraph","children":[{"type":"span","value":"다음의 간단한 예시와 함께 페이징 방식을 살펴보자."}]},{"type":"paragraph","children":[{"type":"span","value":"총 크기가 64바이트이면서 4개의 16바이트 페이지로 구성된(가상 페이지 0, 1, 2, 3) 작은 주소 공간을 가정하자."}]},{"code":"0  ┌────────────────┐\n   │                │ (page 0 of the address space)\n16 ├────────────────┤\n   │                │ (page 1)\n32 ├────────────────┤\n   │                │ (page 2)\n48 ├────────────────┤\n   │                │ (page 3)\n64 └────────────────┘","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"물리 메모리는 아래와 같이 고정 크기의 슬롯들로 구성된다."}]},{"code":"0   ┌─────────────────┐\n    │ reserved for OS │ page frame 0 of physical memory\n16  ├─────────────────┤\n    │     (unused)    │ page frame 1\n32  ├─────────────────┤\n    │  page 3 of AS   │ page frame 2\n48  ├─────────────────┤\n    │  page 0 of AS   │ page frame 3\n64  ├─────────────────┤\n    │     (unused)    │ page frame 4\n80  ├─────────────────┤\n    │  page 2 of AS   │ page frame 5\n96  ├─────────────────┤\n    │     (unused)    │ page frame 6\n112 ├─────────────────┤\n    │  page 1 of AS   │ page frame 7\n128 └─────────────────┘","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"위에서 확인할 수 있듯이, "},{"type":"span","marks":["highlight"],"value":"가상 주소 공간의 페이지들은 물리 메모리 전체에 분산 배치"},{"type":"span","value":"되어 있다."}]},{"type":"paragraph","children":[{"type":"span","value":"또한 운영체제가 자기자신을 위해 물리 메모리의 일부를 사용하는 것도 확인할 수 있다."}]},{"type":"paragraph","children":[{"type":"span","value":"✅ 페이징을 사용의 장점1\n➡️ "},{"type":"span","marks":["highlight"],"value":"유연성"},{"type":"span","value":": 효율적으로 주소 공간 개념을 지원할 수 있음.(힙과 스택이 어느 방향으로 커지는지 등에 대해 가정할 필요X)"}]},{"type":"paragraph","children":[{"type":"span","value":"✅ 페이징을 사용의 장점2\n➡️ 빈 공간 관리의 "},{"type":"span","marks":["highlight"],"value":"단순함"},{"type":"span","value":": 운영체제는 필요한 만큼 비어 있는 페이지를 찾으면 됨."}]},{"type":"paragraph","children":[{"type":"span","value":"주소 공간의 각 가상 페이지에 대한 물리 메모리 위치 기록을 위하여 운영체제는 프로세스마다 "},{"type":"span","marks":["highlight"],"value":"페이지 테이블(page table)"},{"type":"span","value":"이라는 자료 구조를 유지한다.\n➡️ 주소 공간의 가상 페이지 "},{"type":"span","marks":["highlight"],"value":"주소 변환(address translation)"},{"type":"span","value":" 정보를 저장"}]},{"type":"paragraph","children":[{"type":"span","value":"위의 예시의 경우 페이지 테이블은 다음과 같은 4개의 항목을 가지게 될 것이다."}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"가상 페이지(VP) 0 ➡️ 물리 프레임(PF) 3"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"VP 1 ➡️ PF 7"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"VP 2 ➡️ PF 5"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"VP 3 ➡️ PF 2"}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"⭐ "},{"type":"span","marks":["highlight"],"value":"페이지 테이블은 프로세스마다 존재한다는 사실을 기억하자!\n"},{"type":"span","value":"➡️ ⚠️ "},{"type":"span","marks":["highlight"],"value":"역 페이지 테이블(inverted page table)"},{"type":"span","value":"이라는 예외적인 기법도 존재"}]},{"type":"paragraph","children":[{"type":"span","value":"다른 프로세스를 실행해야한다면 운영체제는 해당 프로세스를 위한 다른 페이지 테이블이 필요하다. "},{"type":"span","marks":["underline"],"value":"공유 중인 페이지가 없다면"},{"type":"span","value":" 새 프로세스의 가상 페이지는 다른 물리 페이지에 존재하기 때문이다."}]},{"type":"paragraph","children":[{"type":"span","value":"위의 예시에 이어 "},{"type":"span","marks":["code"],"value":"<virtual address>"},{"type":"span","value":"의 데이터를 "},{"type":"span","marks":["code"],"value":"eax"},{"type":"span","value":" 레지스터에 탑재한다고 해보자."}]},{"code":"movl <virtual address>, %eax","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"프로세스가 생성한 가상 주소의 "},{"type":"span","marks":["highlight"],"value":"변환"},{"type":"span","value":"을 위해 먼저 가상 주소를 "},{"type":"span","marks":["highlight"],"value":"가상 페이지 번호(virtual page number, VPN)"},{"type":"span","value":"와 페이지 내의 "},{"type":"span","marks":["highlight"],"value":"오프셋"},{"type":"span","value":" 2개의 구성 요소로 분할한다."}]},{"type":"paragraph","children":[{"type":"span","value":"이 예시에서 가상 주소 공간의 크기가 64바이트이므로 가상 주소는 6비트가 필요하다.(2^"},{"type":"span","marks":["underline"],"value":"6"},{"type":"span","value":" = 64)"}]},{"type":"paragraph","children":[{"type":"span","value":"우리는 페이지 크기(16바이트)를 알고 있으므로 아래와 같이 Va5를 최상위 비트, Va0를 최하위 비트로 하여 가상 주소를 나눌 수 있다."}]},{"code":"     VPN              offset\n┌───────────┬───────────────────────┐\n┌─────┬─────┬─────┬─────┬─────┬─────┐\n│ Va5 │ Va4 │ Va3 │ Va2 │ Va1 │ Va0 │\n└─────┴─────┴─────┴─────┴─────┴─────┘","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"가상 주소의 구성 요소를 살펴보면 다음과 같다."}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"VPN: 최상위 2비트 = 4페이지 표현(64바이트의 주소 공간 중 각 16바이트)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"offset: 페이지 내에서 우리가 원하는 바이트의 위치를 나타냄."}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"프로세스가 가상 주소 생성 ➡️ 운영체제와 하드웨어가 의미있는 물리 주소로 변환"}]},{"type":"paragraph","children":[{"type":"span","value":"예를 들어, 위 탑재 명령어의 가상 주소가 21인 경우"}]},{"code":"movl 21, %eax","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"여기서 21은 이진 형식으로 010101이므로 이 가상 주소를 해석해보자."}]},{"code":"     VPN              offset\n┌───────────┬───────────────────────┐\n┌─────┬─────┬─────┬─────┬─────┬─────┐\n│  0  │  1  │  0  │  1  │  0  │  1  │\n└─────┴─────┴─────┴─────┴─────┴─────┘","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"즉, 가상 페이지 1(01)의 5(0101)번째 바이트를 의미한다."}]},{"type":"paragraph","children":[{"type":"span","value":"이때, 위의 페이지 테이블 예시에서 가상 페이지 1에 대응하는 "},{"type":"span","marks":["highlight"],"value":"물리 프레임 번호(physical frame number, PFN)"},{"type":"span","value":" 혹은 "},{"type":"span","marks":["highlight"],"value":"물리 페이지 번호(physical page number, PPN)"},{"type":"span","value":"는 7(111)이므로 VPN을 PFN으로 교체하여 가상 주소를 변환할 수 있다."}]},{"code":"                    VPN              offset\n               ┌───────────┬───────────────────────┐\n               ┌─────┬─────┬─────┬─────┬─────┬─────┐\n      Virtual  │  0  │  1  │  0  │  1  │  0  │  1  │\n      Address  └─────┴─────┴─────┴─────┴─────┴─────┘\n                  ↓     ↓     │     │     │     │   \n         ┌─────────────────┐  │     │     │     │\n         │     Address     │  │     │     │     │\n         │   Translation   │  │     │     │     │\n         └─────────────────┘  │     │     │     │\n            ↓     ↓     ↓     ↓     ↓     ↓     ↓\n         ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┐\nPhysical │  1  │  1  │  1  │  0  │  1  │  0  │  1  │\nAddress  └─────┴─────┴─────┴─────┴─────┴─────┴─────┘\n         └─────────────────┴───────────────────────┘\n                 PFN                 offset","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"⚠️ 위에서도 알 수 있듯 오프셋은 변환 후에도 동일함을 알 수 있다."}]},{"type":"paragraph","children":[{"type":"span","value":"최종적으로 계산된 1110101(십진수 117)이 탑재할 데이터가 저장된 정확한 위치이다."}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"2️⃣ 페이지 테이블은 어디에 저장되는가"}]},{"type":"paragraph","children":[{"type":"span","value":"페이지 테이블은 이전의 작은 세그멘트 테이블 혹은 베이스-바운드 쌍에 비해 매우 커질 수 있다."}]},{"type":"paragraph","children":[{"type":"span","value":"예를 들어, 4KB 크기의 페이지를 갖는 전형적인 32비트 주소 공간의 경우\n➡️ 20비트 VPN과 12비트 오프셋으로 가상 주소가 구성된다."}]},{"type":"paragraph","children":[{"type":"span","value":"20비트 VPN은 운영체제가 각 프로세스를 위해 관리해야 하는 변환의 개수가 2^20(약 백만)이라는 것을 의미"}]},{"type":"paragraph","children":[{"type":"span","value":"물리 주소로의 변환 정보와 다른 필요한 정보를 저장하기 위하여 "},{"type":"span","marks":["highlight"],"value":"페이지 테이블 항목(page table entry, PTE)"},{"type":"span","value":" 마다 4바이트가 필요하다고 가정\n➡️ 각 페이지 테이블을 저장하기 위하여 4MB의 메모리가 필요\n➡️ 프로세스가 100개 실행 중이면, 주소 변환을 위해 운영체제가 400MB의 메모리를 필요로 함."}]},{"type":"paragraph","children":[{"type":"span","value":"페이지 테이블이 매우 큼. ➡️ 현재 실행 중인 프로세스의 페이지 테이블을 저장할 수 있는 회로를 MMU 안에 유지X"}]},{"type":"paragraph","children":[{"type":"span","value":"현재는 각 프로세스의 페이지 테이블이 운영체제가 관리하는 "},{"type":"span","marks":["underline"],"value":"물리 메모리"},{"type":"span","value":"에 상주한다고 가정\n➡️ 페이지 테이블은 운영체제 가상 메모리에 저장할 수 있고, 디스크에 스왑될 수도 있음."}]},{"type":"paragraph","children":[{"type":"span","value":"운영체제 메모리 영역(PFN 0)에 페이지 테이블이 존재하는 경우 다음과 같이 표현할 수 있음."}]},{"code":"0   ┌─────────────────┐\n    │   page table:   │ page frame 0 of physical memory\n    │     3 7 5 2     │\n16  ├─────────────────┤\n    │     (unused)    │ page frame 1\n32  ├─────────────────┤\n    │  page 3 of AS   │ page frame 2\n48  ├─────────────────┤\n    │  page 0 of AS   │ page frame 3\n64  ├─────────────────┤\n    │     (unused)    │ page frame 4\n80  ├─────────────────┤\n    │  page 2 of AS   │ page frame 5\n96  ├─────────────────┤\n    │     (unused)    │ page frame 6\n112 ├─────────────────┤\n    │  page 1 of AS   │ page frame 7\n128 └─────────────────┘","type":"code"},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"3️⃣ 페이지 테이블에는 실제 무엇이 있는가"}]},{"type":"paragraph","children":[{"type":"span","value":"페이지 테이블: 가상 주소(가상 페이지 번호)를 물리 주소(물리 프레임 번호)로 매핑(mapping)하는 데 사용되는 자료 구조"}]},{"type":"paragraph","children":[{"type":"span","value":"가장 간단한 형태는 "},{"type":"span","marks":["highlight"],"value":"선형 페이지 테이블(linear page table)"}]},{"type":"paragraph","children":[{"type":"span","value":"위 구조 사용 시 운영체제는 원하는 물리 프레임 번호(PFN)를 찾기 위하여 다음과 같은 순서를 거친다."}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"가상 페이지 번호(VPN)으로 배열의 항목에 접근"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"그 항목의 페이지 테이블 항목(PTE)을 검색"}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"각 PTE에는 심도있는 이해가 필요한 비트들이 존재하는데, 이를 하나씩 살펴보자."}]},{"type":"heading","level":3,"children":[{"type":"span","value":"Valid bit"}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"특정 변환의 유효 여부를 나타내기 위하여 포함"},{"type":"span","value":"된다."}]},{"type":"paragraph","children":[{"type":"span","value":"프로그램이 실행을 시작할 때, 코드와 힙이 주소 공간의 한쪽에 있고 반대쪽은 스택이 차지하고 있는 경우 그 사이의 모든 미사용 공간은 "},{"type":"span","marks":["highlight"],"value":"무효(invalid)"},{"type":"span","value":"로 표시됨.\n➡️ 프로세스가 그런 메모리 접근 시 운영체제에 트랩을 발생"}]},{"type":"paragraph","children":[{"type":"span","value":"Valid bit는 "},{"type":"span","marks":["highlight"],"value":"할당되지 않은 주소 공간을 표현하기 위해 반드시 필요"}]},{"type":"paragraph","children":[{"type":"span","value":"주소 공간의 미사용 페이지를 모두 표시\n➡️ 이러한 페이지들에게 물리 프레임을 할당할 필요를 없애 대량의 메모리를 절약"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"Protection bit"}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"페이지가 읽을 수 있는지, 쓸 수 있는지, 또는 실행될 수 있는지를 표시"},{"type":"span","value":"한다."}]},{"type":"paragraph","children":[{"type":"span","value":"Protection bit가 허용하지 않는 방식으로 페이지에 접근하려고 하면 운영체제에 트랩을 생성"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"Present bit"}]},{"type":"paragraph","children":[{"type":"span","value":"해당 페이지가 물리 메모리에 있는지 혹은 디스크에 있는지("},{"type":"span","marks":["highlight"],"value":"스왑 아웃"},{"type":"span","value":"되었는지) 가리킨다."}]},{"type":"heading","level":3,"children":[{"type":"span","value":"Dirty bit"}]},{"type":"paragraph","children":[{"type":"span","value":"메모리에 반입된 후 페이지가 변경되었는지 여부를 나타낸다."}]},{"type":"heading","level":3,"children":[{"type":"span","value":"Reference bit 또는 Accessed bit"}]},{"type":"paragraph","children":[{"type":"span","value":"때때로 페이지가 접근되었는지를 추적하기 위해 사용된다."}]},{"type":"paragraph","children":[{"type":"span","value":"어떤 페이지가 인기가 있는지 결정하여 메모리에 유지되어야 하는 페이지를 결정하는 데에도 유용\n➡️ "},{"type":"span","marks":["highlight"],"value":"페이지 교체"},{"type":"span","value":"에 매우 중요한 정보"}]},{"type":"paragraph","children":[{"type":"span","value":"아래는 x86 아키텍처의 페이지 테이블 항목을 보여준다."}]},{"code":"31   ...   12 ... 9 8   7   6   5   4   3   2   1   0\n┌───────────┬─────┬───┬───┬───┬───┬───┬───┬───┬───┬───┐\n│           │     │   │ P │   │   │ P │ P │ U │ R │   │\n│    PFN    │     │ G │ A │ D │ A │ C │ W │ / │ / │ P │\n│           │     │   │ T │   │   │ D │ T │ S │ W │   │\n└───────────┴─────┴───┴───┴───┴───┴───┴───┴───┴───┴───┘","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"구성요소는 다음과 같다."}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Present bit(P)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"읽기/쓰기 비트(R/W): 이 페이지에 쓰기가 허용되는지 결정"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"사용자/슈퍼바이저 비트(U/S): 사용자 모드 프로세스의 페이지 엑세스 여부를 결정"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"PWT, PCD, PAT, G: 이 페이지에 대한 하드웨어 캐시의 동작을 결정"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Reference bit(A)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Dirty bit(D)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"페이지 프레임 번호(PFN)"}]}]}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"4️⃣ 페이징: 너무 느림"}]},{"type":"paragraph","children":[{"type":"span","value":"페이지 테이블의 크기가 메모리 상에서 매우 크게 증가할 수 있다.\n➡️ 페이지 테이블로 인해 처리 속도가 저하될 수 있다."}]},{"type":"paragraph","children":[{"type":"span","value":"다음의 예시와 함께 이를 살펴보자."}]},{"code":"movl 21, %eax","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"이때, 하드웨어가 주소 "},{"type":"span","marks":["highlight"],"value":"변환"},{"type":"span","value":"을 담당한다고 가정한다."}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"5️⃣"}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"📚 참고 문헌"}]},{"type":"paragraph","children":[{"url":"https://pages.cs.wisc.edu/~remzi/OSTEP/vm-freespace.pdf","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"Operating Systems: Three Easy Pieces ― 18: Paging: Introduction"}]}]},{"type":"paragraph","children":[{"url":"https://pages.cs.wisc.edu/~remzi/OSTEP/Korean/18-vm-paging.pdf","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"운영체제 아주 쉬운 세 가지 이야기 ― 21: 페이징: 개요"}]}]}]}}}}},"pageContext":{"id":"181343902","locale":"ko-KR"}},"staticQueryHashes":["1034768456","1118752904","2342916782","2757196681","3415878905","3879866231","4195094990"]}