{"componentChunkName":"component---src-templates-article-jsx","path":"/blog/development/os-raid","result":{"data":{"datoCmsMiscTextString":{"locale":"ko-KR","updatedAtText":"업데이트됨","nextReadText":"관련있는 게시물"},"datoCmsBlogPost":{"locale":"ko-KR","originalId":"QFH5TUtXQQ-aAY_K1LPLLg","title":"[운영체제][OSTEP] RAID","seo":{"seoTitle":"[운영체제][OSTEP] RAID","seoDescription":"대용량이면서 고속의 신뢰할 수 있는 저장 시스템을 만드는 핵심 기술들에 대해 공부해봅니다.","seoImage":{"seoImageUrl":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format"}},"subtitle":"대용량이면서 고속의 신뢰할 수 있는 저장 시스템을 만드는 핵심 기술들에 대해 공부해봅니다.","coverImage":{"coverImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.25&w=860 215w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.5&w=860 430w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860 860w","sizes":"(min-width: 860px) 860px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgLCgoLDhMVDhcNDh0VDxUSGhYdHSIVFhUaKysjGh0oHSEWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLCgUFEBAOEC8oIhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAwAGAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAFAQQGAP/EAB0QAAEEAgMAAAAAAAAAAAAAAAEAAgMEESEFEjL/xAAWAQADAAAAAAAAAAAAAAAAAAAAAQP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDD1KM1uPLjpIRUI4GZc4aRXH25hTOHqqbth7yDIVIiXI2IQzqCoREhL/RyuQH/2Q=="},"width":860,"height":430}},"meta":{"updatedAt":"2023-10-20T23:40:40.115+09:00","firstPublishedAt":"2023-10-19T15:25:18.945+09:00"},"categoryLink":{"title":"개발 공부","id":"4743072"},"author":{"authorName":"손승열(Son Seungyeol)","picture":{"authorPictureData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 60px) 60px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgWEQ8LDhgYDhUNDhgNDw8NFxUdGBYfFhUaHysjGikoHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHBANHDUcIig7NS81NS81MjUvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAFAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAABQYHAv/EAB4QAAICAgMBAQAAAAAAAAAAAAABAgMFBgQRQXEi/8QAFQEBAQAAAAAAAAAAAAAAAAAABAP/xAAaEQACAwEBAAAAAAAAAAAAAAAAAQIDEhMR/9oADAMBAAIRAxEAPwDT8/1LHSK/r67scevSfz99VXBkm/Cva/zKle/pCc/JoRXWsFujxvygcLI1pAXqQTmjONm2RzpceyCwmwxpsbbADWJdBFbeCfe2wXoAGpIL6z//2Q=="},"width":60,"height":60}}},"relatedPosts":[{"id":"206791674","meta":{"updatedAt":"2023-10-10T01:34:52.008+09:00"},"categoryLink":{"title":"개발 공부"},"coverImage":{"gatsbyImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.09&w=860 75w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.18&w=860 150w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860 300w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.7&w=860 600w","sizes":"(min-width: 300px) 300px, 100vw"}},"layout":"constrained","width":300,"height":120},"squaredImage":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.06&fit=crop&fp-x=0.5&fp-y=0.5&w=430 25w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.12&fit=crop&fp-x=0.5&fp-y=0.5&w=430 50w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430 100w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.47&fit=crop&fp-x=0.5&fp-y=0.5&w=430 200w","sizes":"(min-width: 100px) 100px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhINEBAQCggUDg0IDgcHFh0JFhEYFxUZGCIVFhUaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OEg4REC8dFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAGAMBIgACEQEDEQH/xAAaAAEBAAIDAAAAAAAAAAAAAAAABAUGAQID/8QAHRAAAgICAwEAAAAAAAAAAAAAAAIDBAEREhQVBf/EABYBAQEBAAAAAAAAAAAAAAAAAAADAf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/ANASs2WLoaraMl1o0O241wSYlSHjgHM9hVAEFr6bKSemzAAeclpnAAH/2Q=="},"width":100,"height":100}},"author":{"authorName":"손승열(Son Seungyeol)","picture":{"authorImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.11&w=77 8w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 30px) 30px, 100vw"}},"layout":"constrained","width":30,"height":30}}},"subtitle":"현대 하드 디스크 드라이브는 어떻게 데이터를 저장하고 접근하는지, 디스크 스케줄링은 어떻게 성능을 개선시킬 수 있는지에 대해 공부해봅니다.","title":"[운영체제][OSTEP] 하드 디스크 드라이브"}],"structuredBody":{"blocks":[],"links":[],"value":{"schema":"dast","document":{"type":"root","children":[{"type":"heading","level":2,"children":[{"type":"span","value":"🚪 들어가며"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"RAID: Redundant Array of Inexpensive Disk"}]},{"type":"paragraph","children":[{"type":"span","value":"💡 여러 개의 디스크를 조화롭게 사용하여 고속이면서 대용량의 신뢰할 수 있는 디스크 시스템을 만드는 기술"}]},{"type":"paragraph","children":[{"type":"span","value":"외면적으로 RAID는 하나의 디스크처럼 보임."}]},{"type":"paragraph","children":[{"type":"span","value":"내부적으로는 여러 개의 디스크와 메모리(휘발성과 비휘발성을 모두 포함), 시스템을 관리하기 위한 하나 또는 그 이상의 프로세서로 이루어진 복잡한 기계임."}]},{"type":"paragraph","children":[{"type":"span","value":"RAID의 하드웨어는 컴퓨터 시스템과 매우 유사하며 디스크의 그룹을 관리하기 위한 전용 시스템임."}]},{"type":"paragraph","children":[{"type":"span","value":"✅ RAID는 단일 디스크에 비해 여러 장점들을 제공"}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"디스크 여러 개를 병렬적으로 사용하면 I/O 시간이 크게 개선됨."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"더욱 큰 용량을 사용할 수 있음."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"데이터 중복 기술(redundancy)"},{"type":"span","value":"을 사용함으로써 디스크 중 하나가 고장나더라도 데이터 손실 없이(고장이 전혀 없었던 것처럼) 동작할 수 있음."}]}]}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"1️⃣ 인터페이스와 RAID의 내부"}]},{"type":"paragraph","children":[{"type":"span","value":"파일 시스템이 RAID에 논리적 I/O를 요청하면 RAID는 내부에서 어떤 디스크(들)를 접근해야 요청을 완료할 수 있는지 계산한 후에 하나 또는 그 이상의 물리적 I/O를 발생시킴."}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"미러링"},{"type":"span","value":" 기반의 RAID 시스템에서 블럭에 쓰는 경우 하나의 논리적 I/O에 대해서 두 개의 물리적 I/O를 실행해야 함.\n➡️ 서로 다른 디스크에 2개의 복사본을 유지"}]},{"type":"paragraph","children":[{"type":"span","value":"RAID 시스템은 보통 별도의 하드웨어 박스 형태로 되어 있으며 호스트와 SCSI나 SATA와 같은 표준 인터페이스로 연결됨."}]},{"type":"paragraph","children":[{"type":"span","value":"내부적인 구조는 다음을 포함한다."}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"RAID의 작업을 지시하는 펌웨어를 실행하는 "},{"type":"span","marks":["highlight"],"value":"마이크로 컨트롤러"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"블럭을 읽고 쓸 때 버퍼로 사용할 DRAM 등의 "},{"type":"span","marks":["highlight"],"value":"휘발성 메모리"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"쓰기를 안전하게 버퍼링하기 위한 비휘발성 메모리가 포함되기도 함."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"패리티 계산을 위한 전용 논리 회로가 포함되기도 함."}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"RAID는 프로세서와 메모리, 디스크를 갖고 있음.\n➡️ 특수한 컴퓨터 시스템\n➡️ 응용 프로그램을 실행하는 대신 RAID를 동작시키기 위해 설계된 전용 소프트웨어를 실행"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"2️⃣  결함 모델"}]},{"type":"paragraph","children":[{"type":"span","value":"RAID는 특정 종류의 결함을 파악하고 이를 복구하도록 설계되어 있음.\n➡️ 💡 설계시 어떤 종류의 결함에 대비해야 하는지를 파악하는 것이 매우 중요"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"고장 시 멈춤(fail-stop) 모델"}]},{"type":"paragraph","children":[{"type":"span","value":"이 모델에서 디스크는 \"정상 작동\"이거나 \"멈춤\" 둘 중 하나의 상태로 있다고 가정\n➡️ ✅ 동작 중인 디스크에는 모든 블럭을 읽거나 쓸 수가 있음.\n➡️ 🚫 멈춤 상태의 디스크는 완전히 사용 불가능하다고 간주함."}]},{"type":"paragraph","children":[{"type":"span","value":"⚠️ 고장 시 멈춤 모델의 치명적인 단점: 결함이 발견되는 경우에 대한 가정"}]},{"type":"paragraph","children":[{"type":"span","value":"이 모델에서는 디스크가 고장나면 쉽게 파악할 수 있다고 가정\n➡️ 디스크 섹터내용이 망가지는 것과 같은 \"조용한\" 고장들에 대해서는 고려하지 않음."}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"3️⃣ RAID의 평가 방법"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"용량"}]},{"type":"paragraph","children":[{"type":"span","value":"B개의 블럭을 가지는 N개의 디스크가 주어졌을 때 RAID의 클라이언트가 사용할 수 있는 유효 용량\n➡️ N*B"}]},{"type":"paragraph","children":[{"type":"span","value":"각 블럭에 대해 두 개의 복사본을 갖는 경우(미러링)\n➡️ (N*B)/2"}]},{"type":"paragraph","children":[{"type":"span","value":"패리티 기반 기법과 같은 다른 기법은 그 사이의 값을 가지게 됨."}]},{"type":"heading","level":3,"children":[{"type":"span","value":"신뢰성"}]},{"type":"paragraph","children":[{"type":"span","value":"평가 대상의 설계 방법은 몇 개의 디스크 결함을 감내할 수 있는가?"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"성능"}]},{"type":"paragraph","children":[{"type":"span","value":"성능은 디스크 배열이 처리해야 할 워크로드에 따라 크게 달라지기 때문에 평가하기가 만만치 않음."}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"4️⃣ RAID 설계"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"RAID 레벨 0: 스트라이핑(striping)"}]},{"type":"paragraph","children":[{"type":"span","value":"💡 디스크 배열의 블럭들을 라운드 로빈 방식으로 디스크를 가로질러 펼치는 것\n➡️ 같은 행에 있는 블럭들을 "},{"type":"span","marks":["highlight"],"value":"스트라이프(stripe)"},{"type":"span","value":"라고 부름."}]},{"type":"paragraph","children":[{"type":"span","value":"[ RAID 매핑 문제 ]"}]},{"type":"paragraph","children":[{"type":"span","value":"논리 블럭 주소가 A라고 할 때, 다음과 같이 원하는 디스크와 오프셋을 계산해낼 수 있음."}]},{"code":"Disk   = A % number_of_disks\nOffset = A / number_of_disks (정수 계산, ex) 4/3 = 1)","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"청크 크기는 RAID의 성능에 큰 영향을 줌."}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"작은 청크 크기"}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"많은 파일들이 여러 디스크에 걸쳐서 스트라이프된다는 말이며 그 결과로 하나의 파일을 읽고 쓰는 데 병렬성이 증가하게 됨.(하지만 블럭의 위치를 여러 디스크에서 찾아야 하므로 위치 찾기 시간이 늘어남.)\n➡️ 큰 청크 크기"}]}]}]}]}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"📚 참고 문헌"}]},{"type":"paragraph","children":[{"url":"https://pages.cs.wisc.edu/~remzi/OSTEP/file-raid.pdf","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"Operating Systems: Three Easy Pieces ― 38: Redundant Arrays of Inexpensive Disks (RAIDs)"}]}]},{"type":"paragraph","children":[{"url":"https://pages.cs.wisc.edu/~remzi/OSTEP/Korean/38_RAID.pdf","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"운영체제 아주 쉬운 세 가지 이야기 ― 41: Redundant Array of Inexpensive Disk (RAID)"}]}]}]}}}}},"pageContext":{"id":"QFH5TUtXQQ-aAY_K1LPLLg","locale":"ko-KR"}},"staticQueryHashes":["1034768456","1118752904","2342916782","2757196681","3415878905","3879866231","4195094990"]}