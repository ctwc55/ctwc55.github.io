{"componentChunkName":"component---src-templates-article-jsx","path":"/blog/development/os-concurrency-and-threads","result":{"data":{"datoCmsMiscTextString":{"locale":"ko-KR","updatedAtText":"ì—…ë°ì´íŠ¸ë¨","nextReadText":"ê´€ë ¨ìˆëŠ” ê²Œì‹œë¬¼"},"datoCmsBlogPost":{"locale":"ko-KR","originalId":"186104748","title":"[ìš´ì˜ì²´ì œ][OSTEP] ë³‘í–‰ì„±ê³¼ ì“°ë ˆë“œ","seo":{"seoTitle":"[ìš´ì˜ì²´ì œ][OSTEP] ë³‘í–‰ì„±ê³¼ ì“°ë ˆë“œ","seoDescription":"ë³‘í–‰ì„±ê³¼ ì“°ë ˆë“œì— ëŒ€í•´ ê³µë¶€í•´ë´…ë‹ˆë‹¤.","seoImage":{"seoImageUrl":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format"}},"subtitle":"ë³‘í–‰ì„±ê³¼ ì“°ë ˆë“œì— ëŒ€í•´ ê³µë¶€í•´ë´…ë‹ˆë‹¤.","coverImage":{"coverImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.25&w=860 215w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.5&w=860 430w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860 860w","sizes":"(min-width: 860px) 860px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgLCgoLDhMVDhcNDh0VDxUSGhYdHSIVFhUaKysjGh0oHSEWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLCgUFEBAOEC8oIhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAwAGAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAFAQQGAP/EAB0QAAEEAgMAAAAAAAAAAAAAAAEAAgMEESEFEjL/xAAWAQADAAAAAAAAAAAAAAAAAAAAAQP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDD1KM1uPLjpIRUI4GZc4aRXH25hTOHqqbth7yDIVIiXI2IQzqCoREhL/RyuQH/2Q=="},"width":860,"height":430}},"meta":{"updatedAt":"2023-08-15T22:03:04.145+09:00","firstPublishedAt":"2023-08-14T15:19:47.269+09:00"},"categoryLink":{"title":"ê°œë°œ ê³µë¶€","id":"4743072"},"author":{"authorName":"ì†ìŠ¹ì—´(Son Seungyeol)","picture":{"authorPictureData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 60px) 60px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgWEQ8LDhgYDhUNDhgNDw8NFxUdGBYfFhUaHysjGikoHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHBANHDUcIig7NS81NS81MjUvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAFAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAABQYHAv/EAB4QAAICAgMBAQAAAAAAAAAAAAABAgMFBgQRQXEi/8QAFQEBAQAAAAAAAAAAAAAAAAAABAP/xAAaEQACAwEBAAAAAAAAAAAAAAAAAQIDEhMR/9oADAMBAAIRAxEAPwDT8/1LHSK/r67scevSfz99VXBkm/Cva/zKle/pCc/JoRXWsFujxvygcLI1pAXqQTmjONm2RzpceyCwmwxpsbbADWJdBFbeCfe2wXoAGpIL6z//2Q=="},"width":60,"height":60}}},"relatedPosts":[],"structuredBody":{"blocks":[],"links":[],"value":{"schema":"dast","document":{"type":"root","children":[{"type":"heading","level":2,"children":[{"type":"span","value":"ğŸšª ë“¤ì–´ê°€ë©°"}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"ì“°ë ˆë“œ(thread)"},{"type":"span","value":": ì–´ë– í•œ í”„ë¡œê·¸ë¨ ë‚´ì—ì„œ, íŠ¹íˆ í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ì‹¤í–‰ë˜ëŠ” íë¦„ì˜ ë‹¨ìœ„\nâ¡ï¸ í”„ë¡œê·¸ë¨ ì¹´ìš´í„°(PC)ì™€ ì—°ì‚°ì„ ìœ„í•œ ë ˆì§€ìŠ¤í„°ë“¤ì„ ê°€ì§."}]},{"type":"paragraph","children":[{"type":"span","value":"ë©€í‹° ì“°ë ˆë“œ í”„ë¡œê·¸ë¨\nâ¡ï¸ í•˜ë‚˜ ì´ìƒì˜ ì‹¤í–‰ ì§€ì (ì—¬ëŸ¬ ê°œì˜ PC ê°’)ì„ ê°€ì§.\nâ¡ï¸ ê° ì“°ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ì™€ ë§¤ìš° ìœ ì‚¬í•˜ì§€ë§Œ, ì“°ë ˆë“œë“¤ì€ "},{"type":"span","marks":["highlight"],"value":"ì£¼ì†Œ ê³µê°„ì„ ê³µìœ "},{"type":"span","value":"í•˜ë¯€ë¡œ ë™ì¼í•œ ê°’ì— ì ‘ê·¼ ê°€ëŠ¥\nâ¡ï¸ "},{"type":"span","marks":["highlight"],"value":"ì“°ë ˆë“œë§ˆë‹¤ ìŠ¤íƒì´ í• ë‹¹ë˜ì–´ ìˆìŒ."},{"type":"span","value":"(ì•„ë˜ì˜ ì˜ˆì‹œ ê·¸ë¦¼ì„ ì°¸ê³ í•˜ì.)"}]},{"code":"Single-Threaded Address Space    Multi-Threaded Address Space\n \n 0 KB â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             0 KB â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n      â”‚ Program Code â”‚                  â”‚ Program Code â”‚\n 1 KB â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             1 KB â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n      â”‚     Heap     â”‚                  â”‚     Heap     â”‚\n 2 KB â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             2 KB â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n      â”‚       â”‚      â”‚                  â”‚              â”‚\n      â”‚       â”‚      â”‚                  â”‚    (free)    â”‚\n      â”‚       â†“      â”‚                  â”‚              â”‚              \n      â”‚    (free)    â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n      â”‚       â†‘      â”‚                  â”‚   Stack (2)  â”‚\n      â”‚       â”‚      â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n      â”‚       â”‚      â”‚                  â”‚    (free)    â”‚\n15 KB â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤            15 KB â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\n      â”‚     Stack    â”‚                  â”‚   Stack (1)  â”‚\n16 KB â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            16 KB â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"ğŸ’¾ ìŠ¤íƒì—ì„œ í• ë‹¹ë˜ëŠ” ë³€ìˆ˜ë“¤ì´ë‚˜ ë§¤ê°œë³€ìˆ˜, ë¦¬í„´ ê°’, ê·¸ë¦¬ê³  ê·¸ ì™¸ì— ìŠ¤íƒì— ë„£ëŠ” ê²ƒë“¤ì€ í•´ë‹¹ ì“°ë ˆë“œì˜ ìŠ¤íƒì¸ "},{"type":"span","marks":["highlight"],"value":"ì“°ë ˆë“œ-ë¡œì»¬ ì €ì¥ì†Œ(thread-local storage)"},{"type":"span","value":"ì— ì €ì¥ëœë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"âš ï¸ ì“°ë ˆë“œ-ë¡œì»¬ ì €ì¥ì†Œë¡œ ì¸í•´ ì£¼ì†Œ ê³µê°„ì˜ ë°°ì¹˜ê°€ ë¬´ë„ˆì§.\nâ¡ï¸ ìŠ¤íƒì˜ í¬ê¸°ê°€ ì•„ì£¼ í¬ì§€ ì•Šì•„ë„ ë˜ë¯€ë¡œ ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì—ëŠ” ë¬¸ì œê°€ ë˜ì§€ ì•ŠìŒ.\nâ¡ï¸ ê·¸ëŸ¬ë‚˜ ì¬ê·€ í˜¸ì¶œì„ ì•„ì£¼ ë§ì´ í•œë‹¤ë©´...ğŸŒ€"}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸ’¡ ë‘ ê°œì˜ ì“°ë ˆë“œê°€ í•˜ë‚˜ì˜ í”„ë¡œì„¸ì„œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš°\nâ¡ï¸ ì‹¤í–‰í•˜ê³ ì í•˜ëŠ” ì“°ë ˆë“œëŠ” ë°˜ë“œì‹œ "},{"type":"span","marks":["highlight"],"value":"ë¬¸ë§¥ êµí™˜(context switch)"},{"type":"span","value":"ì„ í†µí•´ì„œ ì‹¤í–‰ ì¤‘ì¸ ì“°ë ˆë“œì™€ êµì²´ë˜ì–´ì•¼ í•¨."}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"ì“°ë ˆë“œ ì œì–´ ë¸”ëŸ­(thread control block, TCB)"},{"type":"span","value":": ì“°ë ˆë“œë“¤ì˜ ìƒíƒœë¥¼ ì €ì¥\nâ¡ï¸ í”„ë¡œì„¸ìŠ¤ ì œì–´ ë¸”ëŸ­(PCB)ì™€ ìœ ì‚¬\nâ¡ï¸ í”„ë¡œì„¸ìŠ¤ ë¬¸ë§¥ êµí™˜ê³¼ ë‹¬ë¦¬ ì“°ë ˆë“œ ê°„ì˜ "},{"type":"span","marks":["highlight"],"value":"ë¬¸ë§¥ êµí™˜ ì‹œ ì£¼ì†Œ ê³µê°„ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©(ì‚¬ìš©í•˜ê³  ìˆë˜ í˜ì´ì§€ í…Œì´ë¸”ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©)"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"1ï¸âƒ£ ì˜ˆì œ: ì“°ë ˆë“œ ìƒì„±"}]},{"type":"paragraph","children":[{"type":"span","value":"ì“°ë ˆë“œ1ì€ \"A\"ë¥¼ ì¶œë ¥í•˜ê³ , ì“°ë ˆë“œ2ëŠ” \"B\"ë¥¼ ì¶œë ¥í•˜ëŠ” ë…ë¦½ì ì¸ ë‘ ê°œì˜ ì“°ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰ì‹œí‚¤ëŠ” ìƒí™©ì„ ê°€ì •í•´ë³´ì."}]},{"type":"paragraph","children":[{"type":"span","value":"ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤."}]},{"code":"#include <stdio.h>\n#include <assert.h>\n#include <pthread.h>\n\nvoid *mythread(void *arg) {\n  printf(\"%s\\n\", (char *) arg);\n  return NULL;\n}\n\nint main(int argc, char *argv[]) \n{\n  pthread_t p1, p2;\n  int rc;\n  printf(\"main: begin\\n \");\n  rc = pthread_create(&p1, NULL, mythread, \"A\");\n  assert(rc &=& 0);\n  rc = pthread_create(&p2, NULL, mythread, \"B\");\n  assert(rc &=& 0);\n  // ì¢…ë£Œ í•  ìˆ˜ ìˆë„ë¡ ëŒ€ê¸° ì¤‘ì¸ ì“°ë ˆë“œ ë³‘í•©í•˜ê¸°\n  rc = pthread_join(p1, NULL); assert(rc &=& 0);\n  rc = pthread_join(p2, NULL); assert(rc &=& 0);\n  printf(\"main: end\\n\");\n  return 0;\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"ë™ì‘ì€ ë‹¤ìŒ ìˆœì„œì™€ ê°™ë‹¤."}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"main()"},{"type":"span","value":"ì€ "},{"type":"span","marks":["code"],"value":"mythread()"},{"type":"span","value":"ë¥¼ ì‹¤í–‰í•  ë‘ ê°œì˜ ì“°ë ˆë“œë¥¼ ìƒì„±"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ê° "},{"type":"span","marks":["code"],"value":"mythread()"},{"type":"span","value":"ëŠ” ì„œë¡œ ë‹¤ë¥¸ ì¸ìë¥¼ ì „ë‹¬ ë°›ìŒ."}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ìŠ¤ì¼€ì¤„ëŸ¬ì˜ ë™ì‘ì— ë”°ë¼ ì“°ë ˆë“œëŠ” ìƒì„± í›„ ì¦‰ì‹œ ì‹¤í–‰ë˜ê±°ë‚˜, ì¤€ë¹„(Ready) ìƒíƒœì—ì„œ ì‹¤í–‰ì€ ë˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ."}]}]}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë‘ ê°œì˜ ì“°ë ˆë“œ ìƒì„± í›„ ë©”ì¸ ì“°ë ˆë“œëŠ” "},{"type":"span","marks":["code"],"value":"pthread_join()"},{"type":"span","value":"ì„ í˜¸ì¶œí•˜ì—¬ íŠ¹ì • ì“°ë ˆë“œì˜ ë™ì‘ ì¢…ë£Œë¥¼ ëŒ€ê¸°"}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"ìœ„ í”„ë¡œê·¸ë¨ì˜ ê°€ëŠ¥í•œ ì‹¤í–‰ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ì„ ìˆ˜ ìˆë‹¤."}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"main() â¡ï¸ ì“°ë ˆë“œ1 ìƒì„± â¡ï¸ ì“°ë ˆë“œ2 ìƒì„± â¡ï¸ ì“°ë ˆë“œ1 ì‹¤í–‰ â¡ï¸ ì“°ë ˆë“œ 2ì‹¤í–‰ â¡ï¸ ì¢…ë£Œ"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"main() â¡ï¸ ì“°ë ˆë“œ1 ìƒì„± â¡ï¸ ì“°ë ˆë“œ1 ì‹¤í–‰ â¡ï¸ ì“°ë ˆë“œ2 ìƒì„± â¡ï¸ ì“°ë ˆë“œ 2ì‹¤í–‰ â¡ï¸ ì¢…ë£Œ"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"..."}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"ì´ì™¸ì—ë„ ì“°ë ˆë“œ 1ê³¼ ì“°ë ˆë“œ 2ê°€ ìˆœì„œëŒ€ë¡œ ìƒì„± ë˜ì—ˆë”ë¼ë„ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì“°ë ˆë“œ2ë¥¼ ë¨¼ì € ì‹¤í–‰í•˜ë©´ \"B\", \"A\" ìˆœì„œë¡œ ì¶œë ¥ë˜ëŠ” ê²½ìš°ê°€ ìˆì„ ìˆ˜ ìˆë‹¤."}]},{"type":"heading","level":3,"children":[{"type":"span","value":"ì“°ë ˆë“œ ìƒì„± vs. í•¨ìˆ˜ í˜¸ì¶œ"}]},{"type":"paragraph","children":[{"type":"span","value":"í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°, "},{"type":"span","marks":["highlight"],"value":"í•¨ìˆ˜ ì‹¤í–‰ í›„ í˜¸ì¶œì(caller)ì—ê²Œ ë¦¬í„´"}]},{"type":"paragraph","children":[{"type":"span","value":"ì“°ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” ê²½ìš°, ì‹¤í–‰í•  ëª…ë ¹ì–´ë“¤ì„ ê°–ê³  ìˆëŠ” ìƒˆë¡œìš´ ì“°ë ˆë“œê°€ ìƒì„±ë˜ê³ , "},{"type":"span","marks":["highlight"],"value":"ìƒì„±ëœ ì“°ë ˆë“œëŠ” í˜¸ì¶œìì™€ ë³„ê°œë¡œ ì‹¤í–‰"}]},{"type":"paragraph","children":[{"type":"span","value":"ì–´ë–¤ ì“°ë ˆë“œê°€ ì–¸ì œ ì‹¤í–‰ë˜ëŠ”ì§€ ì•Œê¸° ì–´ë ¤ì›€."}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"2ï¸âƒ£ í›¨ì”¬ ë” ì–´ë ¤ìš´ ì´ìœ : ë°ì´í„°ì˜ ê³µìœ "}]},{"type":"paragraph","children":[{"type":"span","value":"ì „ì—­ ê³µìœ  ë³€ìˆ˜ë¥¼ ê°±ì‹ í•˜ëŠ” ë‘ ê°œì˜ ì“°ë ˆë“œì— ëŒ€í•œ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì."}]},{"type":"paragraph","children":[{"type":"span","value":"ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤."}]},{"code":"#include <stdio.h>\n#include <pthread.h>\n#include \"mythreads.h\"\n\nstatic volatile int counter = 0;\n\n// mythread()\n// ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•˜ì—¬ ë‹¨ìˆœíˆ 1ì”© ë”í•˜ê¸°\n// 10,000,000ì„ ë³€ìˆ˜ counterì— ë”í•˜ëŠ” ë°©ë²•ì´ ì•„ë‹ˆë‹¤.\n// í•˜ì§€ë§Œ, ë¬¸ì œê°€ ë¬´ì—‡ì¸ì§€ ëª…í™•í•˜ê²Œ í•´ì¤€ë‹¤.\nvoid *mythread(void *arg) {\n  printf(\"%s: begin\\n\", (char *) arg);\n  int i;\n  for (i = 0; i < 1e7; i++) {\n    counter = counter + 1;\n  }\n  printf(\"%s: done\\n\", (char *) arg);\n  return NULL;\n}\n\n// main()\n// ë‘ ê°œì˜ ì“°ë ˆë“œë¥¼ ì‹¤í–‰í•˜ê³  (pthread_create)\n// ëŒ€ê¸°í•œë‹¤ (pthread_join)\nint main(int argc, char *argv[])\n{\n  pthread_t p1, p2;\n  printf(\"main: begin (counter = %d)\\n\", counter);\n  Pthread_create(&p1, NULL, mythread, \"A\");\n  Pthread_create(&p2, NULL, mythread, \"B\");\n  \n  // ì“°ë ˆë“œê°€ ì¢…ë£Œí•  ìˆ˜ ìˆë„ë¡ ëŒ€ê¸° ì¤‘ì¸ ì“°ë ˆë“œë¥¼ ë³‘í•©í•œë‹¤\n  Pthread_join(p1, NULL);\n  Pthread_join(p2, NULL);\n  printf(\"main: done with both (counter = %d)\\n\", counter);\n  return 0;\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"ìœ„ì˜ ì½”ë“œì—ì„œ "},{"type":"span","marks":["code"],"value":"Pthread_create()"},{"type":"span","value":"ëŠ” ë‹¨ìˆœíˆ "},{"type":"span","marks":["code"],"value":"pthread_create()"},{"type":"span","value":"ë¥¼ í˜¸ì¶œí•˜ê³  ë¦¬í„´ ê°’ì´ 0ì¸ì§€ í™•ì¸í•œë‹¤. 0ì´ ì•„ë‹Œ ê²½ìš° ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  ì¢…ë£Œí•œë‹¤.("},{"type":"span","marks":["code"],"value":"Pthread_join()"},{"type":"span","value":"ë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤.)"}]},{"type":"paragraph","children":[{"type":"span","value":"ê° ì‘ì—…ì ì“°ë ˆë“œëŠ” ë°˜ëª©ë¬¸ ì•ˆì—ì„œ ê³µìœ  ë³€ìˆ˜ì¸ "},{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":"ì— ìˆ˜ë¥¼ ì²œë§Œ ë²ˆ(1e7)ë”í•œë‹¤.\nâ¡ï¸ ìµœì¢…ì ìœ¼ë¡œ ì–»ìœ¼ë ¤ëŠ” ê°’ì€ 20,000,000ì´ë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"ìš°ë¦¬ê°€ ê¸°ëŒ€í•œ ì‹¤í–‰ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤."}]},{"code":"prompt> gcc âˆ’o main main.c âˆ’Wall âˆ’pthread\nprompt> ./main\nmain: begin (counter = 0)\nA: begin\nB: begin\nA: done\nB: done\nmain: done with both (counter = 20000000)","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"í•˜ì§€ë§Œ ë‹¨ì¼ í”„ë¡œì„¸ì„œë¼ í•˜ë”ë¼ë„ ë•Œë¡œëŠ” ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¥¼ ì–»ëŠ”ë‹¤."}]},{"code":"prompt> ./main\nmain: begin (counter = 0)\nA: begin\nB: begin\nA: done\nB: done\nmain: done with both (counter = 19345221)","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"ğŸ¤” ë„ëŒ€ì²´ ë¬´ìŠ¨ ì¼ì´ ë²Œì–´ì§„ ê±´ì§€ ì•Œì•„ë³´ì."}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"3ï¸âƒ£ ì œì–´ ì—†ëŠ” ìŠ¤ì¼€ì¤„ë§"}]},{"type":"paragraph","children":[{"type":"span","value":"ì™œ ìœ„ì™€ ê°™ì€ í˜„ìƒì´ ë°œìƒí•˜ëŠ”ì§€ ì´í•´í•˜ë ¤ë©´ "},{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":" ê°±ì‹ ì„ ìœ„í•´ì„œ "},{"type":"span","marks":["highlight"],"value":"ì»´íŒŒì¼ëŸ¬ê°€ ìƒì„±í•œ ì½”ë“œì˜ ì‹¤í–‰ ìˆœì„œë¥¼ ì´í•´"},{"type":"span","value":"í•´ì•¼ í•œë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"x86ì—ì„œ "},{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":"ë¥¼ ì¦ê°€í•˜ëŠ” ì½”ë“œì˜ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤."}]},{"code":"mov 0x8049a1c, %eax\nadd $0x1, %eax\nmov %eax, 0x8049a1c","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"ì´ ì˜ˆì œì—ì„œ ì‚¬ìš©í•˜ëŠ” "},{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":" ë³€ìˆ˜ì˜ ìœ„ì¹˜ì˜ ì£¼ì†ŒëŠ” "},{"type":"span","marks":["code"],"value":"0x8049a1c"},{"type":"span","value":"ë¼ê³  ê°€ì •í•œë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸ’¡ ì´ì œ ì–´ë–»ê²Œ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ì§€ ì‚´í´ë³´ì."}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ì“°ë ˆë“œ1ì´ "},{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":"ë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” ì½”ë“œ ì˜ì—­ì— ì§„ì…í•œë‹¤."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":"ì˜ ê°’ì´ 50ì´ì—ˆë‹¤ê³  ê°€ì •í•˜ë©´, 50ì„ "},{"type":"span","marks":["code"],"value":"eax"},{"type":"span","value":"ë ˆì§€ìŠ¤í„°ì— ë„£ëŠ”ë‹¤."}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ì“°ë ˆë“œ1ì— ìˆì–´ì„œ "},{"type":"span","marks":["code"],"value":"eax=50"},{"type":"span","value":"ì´ ëœë‹¤."}]}]}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë ˆì§€ìŠ¤í„°ì˜ ê°’ì— 1ì„ ë”í•˜ì—¬ "},{"type":"span","marks":["code"],"value":"eax=51"},{"type":"span","value":"ì´ ëœë‹¤."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"íƒ€ì´ë¨¸ ì¸í„°ëŸ½íŠ¸ê°€ ë°œìƒ"},{"type":"span","value":"í•˜ì—¬ ìš´ì˜ì²´ì œê°€ ì‹¤í–‰ ì¤‘ì´ ì“°ë ˆë“œì˜ í˜„ì¬ ìƒíƒœë¥¼ ì“°ë ˆë“œì˜ TCBì— ì €ì¥í•œë‹¤."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ì“°ë ˆë“œ2ê°€ ì„ íƒë˜ì–´ "},{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":"ë¥¼ ì¦ê°€ì‹œí‚¤ëŠ” ë˜‘ê°™ì€ ì½”ë“œ ì˜ì—­ì— ì§„ì…í•œë‹¤."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":"ì˜ ê°’ì€ ì•„ì§ 50ì´ë¯€ë¡œ ì²« ë²ˆì§¸ ëª…ë ¹ì–´ ì‹¤í–‰ ê²°ê³¼ ì“°ë ˆë“œ2ì˜ "},{"type":"span","marks":["code"],"value":"eax"},{"type":"span","value":" ê°’ì€ 50ì´ë‹¤."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"eax"},{"type":"span","value":" ê°’ì„ 1 ì¦ê°€ì‹œí‚¤ê³  ë‹¤ì‹œ "},{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":"(ì£¼ì†Œ "},{"type":"span","marks":["code"],"value":"0x8049a1c"},{"type":"span","value":")ì— ì €ì¥í•œë‹¤."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë‹¤ì‹œ "},{"type":"span","marks":["highlight"],"value":"ë¬¸ë§¥ êµí™˜ì´ ë°œìƒ"},{"type":"span","value":"í•˜ì—¬ ì“°ë ˆë“œ1ì´ ë¦¬í„´í•˜ì—¬ ì‹¤í–‰ëœë‹¤."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ì“°ë ˆë“œ1ì˜ "},{"type":"span","marks":["code"],"value":"eax"},{"type":"span","value":" ê°’ì€ 51ì´ë¯€ë¡œ ë ˆì§€ìŠ¤í„°ì˜ ê°’ì„ "},{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":"ì— ì €ì¥í•˜ë©´ ê°’ì€ 51ì´ ëœë‹¤."}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"ì¦‰, "},{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":"ì˜ ê°’ì„ ì¦ê°€ì‹œí‚¤ëŠ” ì½”ë“œê°€ ë‘ ë²ˆ ìˆ˜í–‰ì´ ë˜ì—ˆì§€ë§Œ "},{"type":"span","marks":["code"],"value":"counter"},{"type":"span","value":"ì˜ ê°’ì€ 1 ì¦ê°€í–ˆë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸ’¡ ì´ ì˜ˆì‹œì—ì„œì²˜ëŸ¼ "},{"type":"span","marks":["highlight"],"value":"ëª…ë ¹ì–´ì˜ ì‹¤í–‰ ìˆœì„œì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ëŠ” ìƒí™©"},{"type":"span","value":"ì„ "},{"type":"span","marks":["highlight"],"value":"ê²½ìŸ ì¡°ê±´(race condition)"},{"type":"span","value":"ì´ë¼ê³  ë¶€ë¥¸ë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸ’¡ ì»´í“¨í„°ì˜ ì‘ë™ì—ì„œ ì¼ë°˜ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” "},{"type":"span","marks":["highlight"],"value":"ê²°ì •ì "},{"type":"span","value":" ê²°ê³¼ì™€ ë‹¬ë¦¬ ê²°ê³¼ê°€ ì–´ë– í• ì§€ ì•Œì§€ ëª»í•˜ê±°ë‚˜ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ê²°ê³¼ê°€ ë‹¤ë¥¸ ê²½ìš°ë¥¼ "},{"type":"span","marks":["highlight"],"value":"ë¹„ê²°ì •ì (indeterminate)"},{"type":"span","value":"ì¸ ê²°ê³¼ë¼ê³  ë¶€ë¥¸ë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸ’¡ ë©€í‹° ì“°ë ˆë“œê°€ ê°™ì€ ì½”ë“œë¥¼ ì‹¤í–‰í•  ë•Œ ê²½ìŸ ì¡°ê±´ì´ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ì½”ë“œ ë¶€ë¶„ì„ "},{"type":"span","marks":["highlight"],"value":"ì„ê³„ ì˜ì—­(critical section)"},{"type":"span","value":"ì´ë¼ê³  ë¶€ë¥¸ë‹¤. \n= ê³µìœ  ìì›ì„ ì ‘ê·¼í•˜ê³  í•˜ë‚˜ ì´ìƒì˜ ì“°ë ˆë“œì—ì„œ ë™ì‹œì— ì‹¤í–‰ë˜ë©´ ì•ˆë˜ëŠ” ì½”ë“œ\nâ¡ï¸ ì´ëŸ¬í•œ ì½”ë“œì—ì„œ í•„ìš”í•œ ê²ƒì€ "},{"type":"span","marks":["highlight"],"value":"ìƒí˜¸ ë°°ì œ(mutual exclusion)"},{"type":"span","value":": í•˜ë‚˜ì˜ ì“°ë ˆë“œê°€ ì„ê³„ ì˜ì—­ ë‚´ì˜ ì½”ë“œë¥¼ ì‹¤í–‰ ì¤‘ì¼ ë•Œ ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ì‹¤í–‰í•  ìˆ˜ ì—†ë„ë¡ ë³´ì¥"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"4ï¸âƒ£ ì›ìì„±ì— ëŒ€í•œ ë°”ëŒ"}]},{"type":"paragraph","children":[{"type":"span","value":"ì„ê³„ ì˜ì—­ ë¬¸ì œì— ëŒ€í•œ í•´ê²°ì±… 1: ê°•ë ¥í•œ ëª…ë ¹ì–´ í•œ ê°œë¡œ ì¸í„°ëŸ½íŠ¸ ë°œìƒ ê°€ëŠ¥ì„±ì„ ì›ì²œì ìœ¼ë¡œ ì°¨ë‹¨"}]},{"type":"paragraph","children":[{"type":"span","value":"ì˜ˆë¥¼ ë“¤ì–´ ë©”ëª¨ë¦¬ ìƒì˜ ìœ„ì¹˜ì— ì–´ë–¤ ê°’ì„ ë”í•´ì£¼ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ëª…ë ¹ì–´ê°€ ìˆë‹¤ê³  í•´ë³´ì."}]},{"code":"memoryâˆ’add 0x8049a1c, $0x1","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"í•˜ë“œì›¨ì–´ëŠ” ìœ„ ëª…ë ¹ì–´ê°€ ì›ìì (í•˜ë‚˜ì˜ ë‹¨ìœ„)ìœ¼ë¡œ ì‹¤í–‰(ì „ë¶€ ì‹¤í–‰ë˜ê±°ë‚˜ ë§ê±°ë‚˜)ë˜ëŠ” ê²ƒì„ ë³´ì¥í•œë‹¤ê³  í•  ë•Œ, ì¸í„°ëŸ½íŠ¸ê°€ ë°œìƒí–ˆë‹¤ëŠ” ê²ƒì€ ëª…ë ¹ì–´ê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì‹¤í–‰ì´ ì¢…ë£Œëœ í›„ë¼ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"ìœ„ì˜ ì˜ˆì‹œì—ì„œ ìš°ë¦¬ëŠ” ì•„ë˜ì˜ ì½”ë“œê°€ ì›ìì ìœ¼ë¡œ ì‹¤í–‰ë˜ê¸°ë¥¼ ì›í–ˆë‹¤."}]},{"code":"mov 0x8049a1c, %eax\nadd $0x1, %eax\nmov %eax, 0x8049a1c","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"ìœ„ì˜ ëª…ë ¹ì–´ë“¤ì„ í•˜ë‚˜ì˜ ëª…ë ¹ì–´(ìœ„ì˜ ì˜ˆì‹œì¸ "},{"type":"span","marks":["code"],"value":"memory-add"},{"type":"span","value":"ì²˜ëŸ¼)ë¡œ ëŒ€ì‹ í•  ìˆ˜ ìˆë‹¤ë©´ í•´ê²°í•  ìˆ˜ ìˆì§€ë§Œ, ì¼ë°˜ì ì¸ ìƒí™©ì—ì„œëŠ” ê·¸ëŸ¬í•œ ëª…ë ¹ì–´ê°€ ì—†ë‹¤ê³  ë´ì•¼í•œë‹¤.\nâ¡ï¸ ë³‘í–‰ì„±ì„ ì›í•˜ê³  ìˆëŠ”ë° ì›ìì ìœ¼ë¡œ ì‹¤í–‰??? ğŸ˜…"}]},{"type":"paragraph","children":[{"type":"span","value":"í•˜ë“œì›¨ì–´ì ìœ¼ë¡œëŠ” "},{"type":"span","marks":["highlight"],"value":"ë™ê¸°í™” í•¨ìˆ˜(synchronization primitives)"},{"type":"span","value":" êµ¬í˜„ì— í•„ìš”í•œ ê¸°ë³¸ì ì¸ ì–´ì…ˆë¸”ë¦¬ ëª…ë ¹ì–´ ëª‡ ê°œë§Œ í•„ìš”í•˜ë‹¤.\nâ¡ï¸ í•˜ë“œì›¨ì–´ ë™ê¸°í™” ëª…ë ¹ì–´ì™€ ìš´ì˜ì²´ì œì˜ ì§€ì›ì„ í†µí•´ í•œ ë²ˆì— í•˜ë‚˜ì˜ ì“°ë ˆë“œë§Œ ì„ê³„ ì˜ì—­ì—ì„œ ì‹¤í–‰í•˜ë„ë¡ êµ¬ì„±ëœ ë©€í‹° ì“°ë ˆë“œ í”„ë¡œê·¸ë¨ ì‘ì„± ê°€ëŠ¥"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"5ï¸âƒ£ ë˜ ë‹¤ë¥¸ ë¬¸ì œ: ìƒëŒ€ ê¸°ë‹¤ë¦¬ê¸°"}]},{"type":"paragraph","children":[{"type":"span","value":"ë³‘í–‰ì„± ë¬¸ì œ = ê³µìœ  ë³€ìˆ˜ ì ‘ê·¼ì— ê´€ë ¨ëœ ì“°ë ˆë“œ ê°„ì˜ ìƒí˜¸ ì‘ìš© ë¬¸ì œ"}]},{"type":"paragraph","children":[{"type":"span","value":"ì‹¤ì œë¡œëŠ” í•˜ë‚˜ì˜ ì“°ë ˆë“œê°€, ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ì–´ë–¤ ë™ì‘ìœ¼ë¡œ ëë‚¼ ë•Œê¹Œì§€ ëŒ€ê¸°í•´ì•¼ í•˜ëŠ” ìƒí™©ë„ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒ\nâ¡ï¸ í”„ë¡œì„¸ìŠ¤ê°€ ë””ìŠ¤í¬ I/Oë¥¼ ìš”ì²­í•˜ê³  ì‘ë‹µì´ ì˜¬ ë•Œê¹Œì§€ ì ë“  ê²½ìš° ë“±"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"6ï¸âƒ£ ì •ë¦¬: ì™œ ìš´ì˜ì²´ì œì—ì„œ?"}]},{"type":"paragraph","children":[{"type":"span","value":"ì™œ ì´ëŸ° ê²ƒë“¤ì„ ìš´ì˜ì²´ì œì—ì„œ ë‹¤ë¤„ì•¼ í• ê¹Œ?"}]},{"type":"paragraph","children":[{"type":"span","value":"ìš´ì˜ì²´ì œëŠ” ìµœì´ˆì˜ ë³‘í–‰ í”„ë¡œê·¸ë¨ & ê·¸ëŸ¬í•œ ìš´ì˜ì²´ì œ ë‚´ì—ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë‹¤ì–‘í•œ ê¸°ë²•ë“¤ì´ ê°œë°œ"}]},{"type":"paragraph","children":[{"type":"span","value":"ì˜ˆë¥¼ ë“¤ì–´ ì„ì˜ì˜ íŒŒì¼ì— "},{"type":"span","marks":["code"],"value":"write()"},{"type":"span","value":"ë¥¼ ìˆ˜í–‰í•˜ì—¬ ë°ì´í„°ë¥¼ íŒŒì¼ì— ë§ë¶™ì´ë ¤ê³  í•˜ëŠ” ë‘ ê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì‹¤í–‰ ì¤‘ì¸ ê²½ìš°ë¥¼ ìƒê°í•´ ë³´ì."}]},{"type":"paragraph","children":[{"type":"span","value":"ì¸í„°ëŸ½íŠ¸ê°€ ì–¸ì œë“ ì§€ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê³µìœ  ìë£Œ êµ¬ì¡°(í• ë‹¹ì„ ìœ„í•œ ë¹„íŠ¸ë§µ ë˜ëŠ” íŒŒì¼ì˜ "},{"type":"span","marks":["code"],"value":"inode"},{"type":"span","value":")ë¥¼ ê°±ì‹ í•˜ëŠ” ì½”ë“œëŠ” ì„ê³„ ì˜ì—­ì´ ëœë‹¤.\nâ¡ï¸ ì¸í„°ëŸ½íŠ¸ê°€ ì²˜ìŒ ì†Œê°œë˜ì—ˆì„ ë•Œë¶€í„° ìš´ì˜ì²´ì œ ì„¤ê³„ìë“¤ì€ ìš´ì˜ì²´ì œê°€ ì–´ë–»ê²Œ ë‚´ë¶€ êµ¬ì¡°ë¥¼ ê°±ì‹ í•  ê²ƒì¸ê°€ì— ëŒ€í•´ ê³ ë¯¼í•´ ì˜´."}]},{"type":"paragraph","children":[{"type":"span","value":"í˜ì´ì§€ í…Œì´ë¸”, í”„ë¡œì„¸ìŠ¤ ë¦¬ìŠ¤íŠ¸, íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¡°, ëŒ€ë¶€ë¶„ì˜ ì»¤ë„ ìë£Œ êµ¬ì¡°ë“¤ì´ ì˜¬ë°”ë¥´ê²Œ ë™ì‘í•˜ê¸° ìœ„í•´ì„œëŠ” ì ì ˆí•œ ë™ê¸°í™” í•¨ìˆ˜ë“¤ì„ ì‚¬ìš©í•˜ì—¬ ì¡°ì‹¬ìŠ¤ëŸ½ê²Œ ë‹¤ë£¨ì–´ì ¸ì•¼ í•¨."}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"ğŸ“š ì°¸ê³  ë¬¸í—Œ"}]},{"type":"paragraph","children":[{"url":"https://pages.cs.wisc.edu/~remzi/OSTEP/threads-intro.pdf","type":"link","children":[{"type":"span","value":"Operating Systems: Three Easy Pieces â€• 26: Concurrency: An Introduction"}]}]},{"type":"paragraph","children":[{"url":"https://pages.cs.wisc.edu/~remzi/OSTEP/Korean/26_threads-intro.pdf","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"ìš´ì˜ì²´ì œ ì•„ì£¼ ì‰¬ìš´ ì„¸ ê°€ì§€ ì´ì•¼ê¸° â€• 29: ë³‘í–‰ì„±: ê°œìš”"}]}]}]}}}}},"pageContext":{"id":"186104748","locale":"ko-KR"}},"staticQueryHashes":["1034768456","1118752904","2342916782","2757196681","3415878905","3879866231","4195094990"]}