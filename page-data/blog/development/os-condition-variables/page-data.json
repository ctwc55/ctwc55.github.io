{"componentChunkName":"component---src-templates-article-jsx","path":"/blog/development/os-condition-variables","result":{"data":{"datoCmsMiscTextString":{"locale":"ko-KR","updatedAtText":"ì—…ë°ì´íŠ¸ë¨","nextReadText":"ê´€ë ¨ìˆëŠ” ê²Œì‹œë¬¼"},"datoCmsBlogPost":{"locale":"ko-KR","originalId":"199240150","title":"[ìš´ì˜ì²´ì œ][OSTEP] ì»¨ë””ì…˜ ë³€ìˆ˜","seo":{"seoTitle":"[ìš´ì˜ì²´ì œ][OSTEP] ì»¨ë””ì…˜ ë³€ìˆ˜","seoDescription":"ë©€í‹° ì“°ë ˆë“œ í”„ë¡œê·¸ë¨ì—ì„œ ì“°ë ˆë“œê°€ ì§„í–‰ì„ ìœ„í•´ ì»¨ë””ì…˜ ë³€ìˆ˜ë¥¼ í†µí•´ íŠ¹ì • ì¡°ê±´ì„ ê¸°ë‹¤ë¦¬ëŠ” ë°©ë²•ì— ëŒ€í•´ ê³µë¶€í•´ë´…ë‹ˆë‹¤.","seoImage":{"seoImageUrl":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format"}},"subtitle":"ë©€í‹° ì“°ë ˆë“œ í”„ë¡œê·¸ë¨ì—ì„œ ì“°ë ˆë“œê°€ ì§„í–‰ì„ ìœ„í•´ ì»¨ë””ì…˜ ë³€ìˆ˜ë¥¼ í†µí•´ íŠ¹ì • ì¡°ê±´ì„ ê¸°ë‹¤ë¦¬ëŠ” ë°©ë²•ì— ëŒ€í•´ ê³µë¶€í•´ë´…ë‹ˆë‹¤.","coverImage":{"coverImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.25&w=860 215w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.5&w=860 430w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860 860w","sizes":"(min-width: 860px) 860px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgLCgoLDhMVDhcNDh0VDxUSGhYdHSIVFhUaKysjGh0oHSEWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLCgUFEBAOEC8oIhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAwAGAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAFAQQGAP/EAB0QAAEEAgMAAAAAAAAAAAAAAAEAAgMEESEFEjL/xAAWAQADAAAAAAAAAAAAAAAAAAAAAQP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDD1KM1uPLjpIRUI4GZc4aRXH25hTOHqqbth7yDIVIiXI2IQzqCoREhL/RyuQH/2Q=="},"width":860,"height":430}},"meta":{"updatedAt":"2023-09-17T22:16:29.174+09:00","firstPublishedAt":"2023-09-15T14:11:39.492+09:00"},"categoryLink":{"title":"ê°œë°œ ê³µë¶€","id":"4743072"},"author":{"authorName":"ì†ìŠ¹ì—´(Son Seungyeol)","picture":{"authorPictureData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 60px) 60px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgWEQ8LDhgYDhUNDhgNDw8NFxUdGBYfFhUaHysjGikoHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHBANHDUcIig7NS81NS81MjUvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAFAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAABQYHAv/EAB4QAAICAgMBAQAAAAAAAAAAAAABAgMFBgQRQXEi/8QAFQEBAQAAAAAAAAAAAAAAAAAABAP/xAAaEQACAwEBAAAAAAAAAAAAAAAAAQIDEhMR/9oADAMBAAIRAxEAPwDT8/1LHSK/r67scevSfz99VXBkm/Cva/zKle/pCc/JoRXWsFujxvygcLI1pAXqQTmjONm2RzpceyCwmwxpsbbADWJdBFbeCfe2wXoAGpIL6z//2Q=="},"width":60,"height":60}}},"relatedPosts":[{"id":"189836506","meta":{"updatedAt":"2023-08-28T15:47:12.013+09:00"},"categoryLink":{"title":"ê°œë°œ ê³µë¶€"},"coverImage":{"gatsbyImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.09&w=860 75w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.18&w=860 150w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860 300w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.7&w=860 600w","sizes":"(min-width: 300px) 300px, 100vw"}},"layout":"constrained","width":300,"height":120},"squaredImage":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.06&fit=crop&fp-x=0.5&fp-y=0.5&w=430 25w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.12&fit=crop&fp-x=0.5&fp-y=0.5&w=430 50w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430 100w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.47&fit=crop&fp-x=0.5&fp-y=0.5&w=430 200w","sizes":"(min-width: 100px) 100px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhINEBAQCggUDg0IDgcHFh0JFhEYFxUZGCIVFhUaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OEg4REC8dFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAGAMBIgACEQEDEQH/xAAaAAEBAAIDAAAAAAAAAAAAAAAABAUGAQID/8QAHRAAAgICAwEAAAAAAAAAAAAAAAIDBAEREhQVBf/EABYBAQEBAAAAAAAAAAAAAAAAAAADAf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/ANASs2WLoaraMl1o0O241wSYlSHjgHM9hVAEFr6bKSemzAAeclpnAAH/2Q=="},"width":100,"height":100}},"author":{"authorName":"ì†ìŠ¹ì—´(Son Seungyeol)","picture":{"authorImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.11&w=77 8w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 30px) 30px, 100vw"}},"layout":"constrained","width":30,"height":30}}},"subtitle":"ìë£Œ êµ¬ì¡°ì— ë½ì„ ì¶”ê°€í•˜ì—¬ ì“°ë ˆë“œ ì‚¬ìš©ì— ì•ˆì „í•œ êµ¬ì¡°ë¥¼ ë§Œë“œëŠ” ë°©ë²•ì— ëŒ€í•´ ê³µë¶€í•´ë´…ë‹ˆë‹¤.","title":"[ìš´ì˜ì²´ì œ][OSTEP] ë½ ê¸°ë°˜ì˜ ë³‘í–‰ ìë£Œ êµ¬ì¡°"}],"structuredBody":{"blocks":[],"links":[],"value":{"schema":"dast","document":{"type":"root","children":[{"type":"heading","level":2,"children":[{"type":"span","value":"ğŸšª ë“¤ì–´ê°€ë©°"}]},{"type":"paragraph","children":[{"type":"span","value":"\"ë½\"ë§Œìœ¼ë¡œëŠ” ë³‘í–‰ í”„ë¡œê·¸ë¨ì„ ì œëŒ€ë¡œ ì‘ì„±í•  ìˆ˜ ì—†ìŒ\nâ¡ï¸ ì“°ë ˆë“œê°€ ê³„ì† ì§„í–‰í•˜ê¸° ì „ì— ì–´ë–¤ "},{"type":"span","marks":["highlight"],"value":"ì¡°ê±´"},{"type":"span","value":"ì´ ì°¸ì¸ì§€ë¥¼ ê²€ì‚¬í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ì´ ìˆìŒ."}]},{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"join()"},{"type":"span","value":": ë¶€ëª¨ ì“°ë ˆë“œê°€ ì‘ì—…ì„ ì‹œì‘í•˜ê¸° ì „ì— ìì‹ ì“°ë ˆë“œê°€ ì‘ì—…ì„ ëëƒˆëŠ”ì§€ ê²€ì‚¬"}]},{"code":"volatile int done = 0;\n\nvoid *child(void *arg) {\n  printf(\"child\\n\");\n  done = 1;\n  return NULL;\n}\n\nint main(int argc, char *argv[]) {\n  printf(\"parent: begin\\n\");\n  pthread_t c;\n  Pthread_create(&c, NULL, child, NULL); // ìì‹ ìƒì„±í•˜ê¸°\n  while (done == 0); // íšŒì „\n  printf(\"parent: end\\n\");\n  return 0;\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"ìœ„ ì²˜ëŸ¼ "},{"type":"span","marks":["highlight"],"value":"ê³µìœ  ë³€ìˆ˜"},{"type":"span","value":"ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ "},{"type":"span","marks":["highlight"],"value":"ë¶€ëª¨ ì“°ë ˆë“œê°€ íšŒì „ì„ í•˜ë©´ì„œ CPU ì‹œê°„ì„ ë‚­ë¹„"},{"type":"span","value":"í•˜ë¯€ë¡œ ë¹„íš¨ìœ¨ì ì„."}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"1ï¸âƒ£ ì •ì˜ì™€ ë£¨í‹´ë“¤"}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸš¦ "},{"type":"span","marks":["highlight"],"value":"ì»¨ë””ì…˜ ë³€ìˆ˜(conditional variable)"}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ì¼ì¢…ì˜ í ìë£Œ êµ¬ì¡°"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ì–´ë–¤ ì‹¤í–‰ì˜ ìƒíƒœ(ë˜ëŠ” ì–´ë–¤ "},{"type":"span","marks":["highlight"],"value":"ì¡°ê±´"},{"type":"span","value":")ê°€ ì›í•˜ëŠ” ê²ƒê³¼ ë‹¤ë¥¼ ë•Œ ì¡°ê±´ì´ ì°¸ì´ ë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ë©° ì“°ë ˆë“œê°€ "},{"type":"span","marks":["highlight"],"value":"ëŒ€ê¸°"},{"type":"span","value":"í•  ìˆ˜ ìˆëŠ” í"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ìƒíƒœ ë³€ê²½ â¡ï¸ ëŒ€ê¸° ì¤‘ì´ë˜ ì“°ë ˆë“œ(í•˜ë‚˜ ì´ìƒ)ë¥¼ ê¹¨ì›€.(ì¡°ê±´ì— ë”°ë¼ "},{"type":"span","marks":["highlight"],"value":"ì‹œê·¸ë„"},{"type":"span","value":" ì „ì†¡)"}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"âœ‹ ì»¨ë””ì…˜ ë³€ìˆ˜ì˜ ì„ ì–¸\n"},{"type":"span","marks":["code"],"value":"pthread_cond_t c;"}]},{"type":"paragraph","children":[{"type":"span","value":"ì»¨ë””ì…˜ ë³€ìˆ˜ì—ëŠ” ë‘ ê°œì˜ ì—°ì‚°ì´ ì¡´ì¬"}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"wait()"},{"type":"span","value":": ì“°ë ˆë“œê°€ ìŠ¤ìŠ¤ë¡œë¥¼ ì ì¬ìš°ê¸° ìœ„í•´ í˜¸ì¶œ"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"signal()"},{"type":"span","value":": ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ë¬´ì–¸ê°€ë¥¼ ë³€ê²½í•˜ì—¬ ì ìë˜ ì“°ë ˆë“œë¥¼ ê¹¨ìš°ê¸° ìœ„í•´ í˜¸ì¶œ"}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"POSIXì˜ ì‚¬ìš©ë¡€ëŠ” ë‹¤ìŒê³¼ ê°™ìŒ."}]},{"code":"pthread_cond_wait(pthread_cond_t *c, pthread_mutex_t *m);\npthread_cond_signal(pthread_cond_t *c);","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"wait()"},{"type":"span","value":"ì—ì„œ "},{"type":"span","marks":["code"],"value":"mutex"},{"type":"span","value":"ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì‚¬ìš©í•œë‹¤ëŠ” ê²ƒì„ ìœ ì˜í•´ì•¼ í•¨."}]},{"type":"paragraph","children":[{"type":"span","value":"â­ "},{"type":"span","marks":["code"],"value":"wait()"},{"type":"span","value":"ê°€ í˜¸ì¶œë  ë•Œ "},{"type":"span","marks":["code"],"value":"mutex"},{"type":"span","value":"ëŠ” ì ê²¨ìˆì—ˆë‹¤ê³  ê°€ì •\nâ¡ï¸ "},{"type":"span","marks":["code"],"value":"wait()"},{"type":"span","value":"ì˜ ì—­í• ì€ ë½ì„ í•´ì œí•˜ê³  í˜¸ì¶œí•œ ì“°ë ˆë“œë¥¼ ì¬ìš°ëŠ” ê²ƒ\nâ¡ï¸ ë‹¤ë¥¸ ì“°ë ˆë“œê°€ ì‹œê·¸ë„ì„ ë³´ë‚´ ì“°ë ˆë“œê°€ ê¹¨ì–´ë‚˜ë©´ "},{"type":"span","marks":["code"],"value":"wait()"},{"type":"span","value":"ì—ì„œ "},{"type":"span","marks":["highlight"],"value":"ë¦¬í„´ ì „ ë½ì„ ì¬íšë“í•´ì•¼ í•¨."}]},{"type":"paragraph","children":[{"type":"span","value":"ì¡°ê±´ì´ ë§Œì¡±í•˜ì—¬ ê¹¨ì–´ë‚¬ë”ë¼ë„ ë½ì„ íšë“ëª»í•˜ë©´ ë‹¤ì‹œ sleep ìƒíƒœë¡œ ë“¤ì–´ê°.\nâ¡ï¸ ë³µì¡í•œ ê³¼ì •ì„ ê±°ì¹˜ëŠ” ì´ìœ : ì“°ë ˆë“œê°€ ìŠ¤ìŠ¤ë¡œ ì¬ìš°ë ¤ê³  í•  ë•Œ, "},{"type":"span","marks":["highlight"],"value":"ê²½ìŸ ì¡°ê±´ì˜ ë°œìƒì„ ë°©ì§€"},{"type":"span","value":"í•˜ê¸° ìœ„í•¨."}]},{"type":"paragraph","children":[{"type":"span","value":"ì•„ë˜ì˜ ì˜ˆì‹œì™€ í•¨ê»˜ ì´ë¥¼ ì‚´í´ë³´ì."}]},{"code":"int done = 0;\npthread_mutex_t m = PTHREAD_MUTEX_INITIALIZER;\npthread_cond_t c = PTHREAD_COND_INITIALIZER;\n\nvoid thr_exit() {\n  Pthread_mutex_lock(&m);\n  done = 1;\n  Pthread_cond_signal(&c);\n  Pthread_mutex_unlock(&m);\n}\n\nvoid *child(void *arg) {\n  printf(\"child\\n\");\n  thr_exit();\n  return NULL;\n}\n\nvoid thr_join() {\n  Pthread_mutex_lock(&m);\n  while (done == 0)\n    Pthread_cond_wait(&c, &m);\n  Pthread_mutex_unlock(&m);\n}\n\nint main(int argc, char *argv[]) {\n  printf(\"parent: begin\\n\");\n  pthread_t p;\n  Pthread_create(&p, NULL, child, NULL);\n  thr_join();\n  printf(\"parent: end\\n\");\n  return 0;\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"ë‘ ê°€ì§€ ê²½ìš°ë¥¼ ì‚´í´ë³´ì."}]},{"type":"paragraph","children":[{"type":"span","value":"[1] ë¶€ëª¨ ì“°ë ˆë“œê°€ ìì‹ ì“°ë ˆë“œ ìƒì„± í›„ "},{"type":"span","marks":["code"],"value":"thr_join()"},{"type":"span","value":"ì„ í˜¸ì¶œí•˜ê³  ìì‹ ì“°ë ˆë“œì˜ ì¢…ë£Œë¥¼ ëŒ€ê¸°"}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë¶€ëª¨ ì“°ë ˆë“œê°€ ë½ íšë“"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ìì‹ì´ ëë‚¬ëŠ”ì§€ ê²€ì‚¬("},{"type":"span","marks":["code"],"value":"done == 1"},{"type":"span","value":")"}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ìì‹ì´ ëë‚˜ì§€ ì•Šì•˜ìœ¼ë¯€ë¡œ, "},{"type":"span","marks":["code"],"value":"wait()"},{"type":"span","value":"ë¥¼ í˜¸ì¶œí•˜ì—¬ ìŠ¤ìŠ¤ë¡œë¥¼ ì ì¬ì›€.(ë½ í•´ì œ)"}]}]}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ìì‹ ì“°ë ˆë“œê°€ \"child\" ë©”ì‹œì§€ ì¶œë ¥"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ìì‹ ì“°ë ˆë“œê°€ "},{"type":"span","marks":["code"],"value":"thr_exit()"},{"type":"span","value":"ì„ í˜¸ì¶œ"}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë½ì„ íšë“í•œ í›„ ìƒíƒœ ë³€ìˆ˜ "},{"type":"span","marks":["code"],"value":"done"},{"type":"span","value":"ì„ ì„¤ì •"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ì‹œê·¸ë„ì„ ë³´ë‚´ì–´ ë¶€ëª¨ ì“°ë ˆë“œë¥¼ ê¹¨ì›€."}]}]}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë¶€ëª¨ ì“°ë ˆë“œê°€ í˜¸ì¶œí–ˆë˜ "},{"type":"span","marks":["code"],"value":"wait()"},{"type":"span","value":"ì—ì„œ ë½ì„ íšë“í•œ ì±„ë¡œ ë¦¬í„´"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë¶€ëª¨ ì“°ë ˆë“œê°€ ì‹¤í–‰í•˜ì—¬ ë½ì„ í•´ì œí•˜ê³  \"parent: end\" ë©”ì‹œì§€ ì¶œë ¥"}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"[2] ìì‹ ì“°ë ˆë“œê°€ ìƒì„±ë˜ë©´ì„œ ì¦‰ì‹œ ì‹¤í–‰ë˜ê³  "},{"type":"span","marks":["code"],"value":"done"},{"type":"span","value":" ë³€ìˆ˜ë¥¼ 1ë¡œ ì„¤ì • í›„ ì‹œê·¸ë„ ì „ì†¡"}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ìì‹ ì“°ë ˆë“œê°€ ìƒì„±ë˜ë©´ì„œ ì¦‰ì‹œ ì‹¤í–‰"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"done"},{"type":"span","value":" ë³€ìˆ˜ë¥¼ 1ë¡œ ì„¤ì • í›„ ì‹œê·¸ë„ ì „ì†¡"}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ìê³ ìˆëŠ” ì“°ë ˆë“œê°€ ì—†ìœ¼ë¯€ë¡œ ë‹¨ìˆœíˆ ë¦¬í„´"}]}]}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë¶€ëª¨ ì“°ë ˆë“œê°€ ì‹¤í–‰í•˜ì—¬ "},{"type":"span","marks":["code"],"value":"thr_join()"},{"type":"span","value":"ì„ í˜¸ì¶œ"}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"done"},{"type":"span","value":" ë³€ìˆ˜ê°€ 1ì´ë¯€ë¡œ ëŒ€ê¸° ì—†ì´ ë°”ë¡œ ë¦¬í„´"}]}]}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"â­ ìœ„ì˜ ì½”ë“œì—ì„œ ì•Œ ìˆ˜ ìˆë“¯, ë¶€ëª¨ ì“°ë ˆë“œê°€ ì¡°ê±´ì„ ê²€ì‚¬í•  ë•Œ "},{"type":"span","marks":["code"],"value":"if"},{"type":"span","value":" ë¬¸ì´ ì•„ë‹ˆë¼ "},{"type":"span","marks":["code"],"value":"while"},{"type":"span","value":" ë¬¸ì„ ì‚¬ìš©"}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸ¤” done ì´ë¼ëŠ” "},{"type":"span","marks":["highlight"],"value":"ìƒíƒœ ë³€ìˆ˜"},{"type":"span","value":"ê°€ ê¼­ í•„ìš”í• ê¹Œ? â¡ï¸ "},{"type":"span","marks":["highlight"],"value":"í•„ìš”í•˜ë‹¤."}]},{"code":"void thr_exit() {\n  Pthread_mutex_lock(&m);\n  Pthread_cond_signal(&c);\n  Pthread_mutex_unlock(&m);\n}\n\nvoid thr_join() {\n  Pthread_mutex_lock(&m);\n  Pthread_cond_wait(&c, &m);\n  Pthread_mutex_unlock(&m);\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"ìœ„ì˜ ê²½ìš°ì—ì„œ ìì‹ í”„ë¡œì„¸ìŠ¤ê°€ ìƒì„± ì¦‰ì‹œ ì‹¤í–‰ë˜ì–´ "},{"type":"span","marks":["code"],"value":"thr_exit()"},{"type":"span","value":"ì„ í˜¸ì¶œí•˜ë©´ ì‹œê·¸ë„ì„ ë³´ë‚´ì§€ë§Œ ê¹¨ì›Œì•¼ í•  ì“°ë ˆë“œê°€ ì—†ìŒ.\nâ¡ï¸ ë¶€ëª¨ ì“°ë ˆë“œê°€ ì‹¤í–‰ë˜ë©´ "},{"type":"span","marks":["code"],"value":"wait()"},{"type":"span","value":" í˜¸ì¶œ ì‹œ ì–´ë–¤ ì“°ë ˆë“œë„ ë¶€ëª¨ ì“°ë ˆë“œë¥¼ ê¹¨ìš°ì§€ ì•Šìœ¼ë¯€ë¡œ ê±°ê¸°ì„œ ë©ˆì¶¤."}]},{"type":"paragraph","children":[{"type":"span","value":"ë”°ë¼ì„œ ì ìê³ , ê¹¨ìš°ê³ , ë½ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ "},{"type":"span","marks":["code"],"value":"done"},{"type":"span","value":"ì´ë¼ëŠ” ìƒíƒœ ë³€ìˆ˜ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆìŒ."}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸ¤” ì‹œê·¸ë„ì„ ì£¼ê±°ë‚˜ ëŒ€ê¸°í•  ë•Œ ë½ì„ íšë“í•  í•„ìš”ê°€ ì—†ë‹¤ë©´ ì–´ë–¤ ë¬¸ì œê°€ ìƒê¸¸ê¹Œ?"}]},{"code":"void thr_exit() {\n  done = 1;\n  Pthread_cond_signal(&c);\n}\n\nvoid thr_join() {\n  if (done == 0)\n    Pthread_cond_wait(&c);\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"ìœ„ì˜ ê²½ìš° "},{"type":"span","marks":["highlight"],"value":"ê²½ìŸ ì¡°ê±´ì´ ë°œìƒ"},{"type":"span","value":"í•œë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"ë¶€ëª¨ ì“°ë ˆë“œê°€ "},{"type":"span","marks":["code"],"value":"thr_join()"},{"type":"span","value":"ì„ í˜¸ì¶œí•œ í›„ "},{"type":"span","marks":["code"],"value":"done"},{"type":"span","value":" ë³€ìˆ˜ ê°’ì´ 0ì¸ ê²ƒì„ í™•ì¸í•œ í›„ ì ìë ¤ê³  í•  ë•Œ, wait() í˜¸ì¶œ ì§ì „ ë¶€ëª¨ ì“°ë ˆë“œê°€ ì¸í„°ëŸ½íŠ¸ì— ê±¸ë ¤ ìì‹ ì“°ë ˆë“œê°€ ì‹¤í–‰ë˜ëŠ” ê²½ìš°\nâ¡ï¸ ìì‹ ì“°ë ˆë“œê°€ ìƒíƒœ ë³€ìˆ˜ "},{"type":"span","marks":["code"],"value":"done"},{"type":"span","value":"ì˜ ê°’ì„ 1ë¡œ ë³€ê²½í•˜ê³  ì‹œê·¸ë„ì„ ë³´ë‚´ì§€ë§Œ ëŒ€ê¸° ì¤‘ì¸ ì“°ë ˆë“œê°€ ì—†ìœ¼ë¯€ë¡œ ë¶€ëª¨ ì“°ë ˆë“œê°€ ë‹¤ì‹œ ì‹¤í–‰ë˜ë©´, "},{"type":"span","marks":["code"],"value":"wait()"},{"type":"span","value":"ë¥¼ í˜¸ì¶œí•˜ê³  ì ìê²Œ ë˜ì§€ë§Œ ê¹¨ì›Œì¤„ ì“°ë ˆë“œê°€ ì—†ìŒ."}]},{"type":"paragraph","children":[{"type":"span","value":"â­ "},{"type":"span","marks":["highlight"],"value":"ì»¨ë””ì…˜ ë³€ìˆ˜ë¥¼ ì‚¬ìš©"},{"type":"span","value":"í•  ë•ŒëŠ” "},{"type":"span","marks":["highlight"],"value":"ë½ì„ íšë“í•œ í›„ì— ì‹œê·¸ë„ì„ ë³´ë‚´ëŠ” ê²ƒ"},{"type":"span","value":"ì´ "},{"type":"span","marks":["highlight"],"value":"ê°€ì¥ ê°„ë‹¨í•˜ê³  ìµœì„ ì˜ ë°©ë²•"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"2ï¸âƒ£ ìƒì‚°ì/ì†Œë¹„ì(ìœ í•œ ë²„í¼) ë¬¸ì œ"}]},{"type":"paragraph","children":[{"type":"span","value":"Dijkstraê°€ ì²˜ìŒ ì œì‹œí•œ ë™ê¸°í™” ë¬¸ì œ("},{"type":"span","marks":["highlight"],"value":"producer/consumer"},{"type":"span","value":")ë¡œ, "},{"type":"span","marks":["highlight"],"value":"ìœ í•œ ë²„í¼(bounded ë²„í¼)"},{"type":"span","value":" ë¬¸ì œë¡œë„ ì•Œë ¤ì ¸ ìˆìŒ.\nâ¡ï¸ ë½ì´ë‚˜ ì»¨ë””ì…˜ ë³€ìˆ˜ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì¼ë°˜í™”ëœ ì„¸ë§ˆí¬ì–´ë¥¼ ë°œëª…í•˜ê²Œ ë¨."}]},{"type":"paragraph","children":[{"type":"span","value":"ì—¬ëŸ¬ ê°œì˜ ìƒì‚°ì ì“°ë ˆë“œ(ë°ì´í„°ë¥¼ ë§Œë“¤ì–´ ë²„í¼ì— ë„£ìŒ)ì™€ ì†Œë¹„ì ì“°ë ˆë“œ(ë²„í¼ì—ì„œ ë°ì´í„°ë¥¼ êº¼ë‚´ì–´ ì‚¬ìš©)ê°€ ìˆë‹¤ê³  í•˜ì.\nâ¡ï¸ ì˜ˆì‹œë¡œ ë©€í‹° ì“°ë ˆë“œ ì›¹ ì„œë²„(ìƒì‚°ìëŠ” HTTP ìš”ì²­ì„ ì‘ì—… í(ìœ í•œ ë²„í¼)ì— ë„£ê³ , ì†Œë¹„ìëŠ” ì´ íì—ì„œ ìš”ì²­ì„ êº¼ë‚´ì–´ ì²˜ë¦¬)ê°€ ìˆìŒ.\nâ¡ï¸ "},{"type":"span","marks":["code"],"value":"grep foo file.txt | wc -l"},{"type":"span","value":"ê³¼ ê°™ì€ íŒŒì´í”„(pipe) ëª…ë ¹ìœ¼ë¡œ í•œ í”„ë¡œê·¸ë¨ì˜ ê²°ê³¼ë¥¼ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì—ê²Œ ì „ë‹¬í•  ë•Œë„ ìœ í•œ ë²„í¼ë¥¼ ì‚¬ìš©"}]},{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"grep foo file.txt | wc -l"},{"type":"span","value":"ì—ì„œ ë‘ ê°œì˜ í”„ë¡œì„¸ìŠ¤ê°€ ë³‘í–‰ ì‹¤í–‰ë˜ëŠ” ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì.\nâ¡ï¸ "},{"type":"span","marks":["code"],"value":"grep"},{"type":"span","value":" í”„ë¡œì„¸ìŠ¤ê°€ ìƒì‚°ì, "},{"type":"span","marks":["code"],"value":"wc"},{"type":"span","value":" í”„ë¡œì„¸ìŠ¤ê°€ ì†Œë¹„ì\nâ¡ï¸ ë‘˜ ì‚¬ì´ì—ëŠ” ì»¤ë„ ë‚´ë¶€ì— ìˆëŠ” ìœ í•œ ë²„í¼ê°€ ì¡´ì¬"}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸ—ƒï¸ "},{"type":"span","marks":["highlight"],"value":"ìœ í•œ ë²„í¼ëŠ” ê³µìœ  ìì›"},{"type":"span","value":"ì´ë‹¤.\nâ¡ï¸ ê²½ìŸ ì¡°ê±´ì˜ ë°œìƒ ë°©ì§€ë¥¼ ìœ„í•œ "},{"type":"span","marks":["highlight"],"value":"ë™ê¸°í™”ê°€ í•„ìš”"}]},{"code":"int buffer;\nint count = 0; // ì²˜ìŒì—ëŠ” ë¹„ì–´ìˆìŒ\n\nvoid put(int value) {\n  assert(count == 0);\n  count = 1;\n  buffer = value;\n}\n\nint get() {\n  assert(count == 1);\n  count = 0;\n  return buffer;\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"ë¹„ë¡ ìœ„ì˜ ì½”ë“œì—ì„œëŠ” 1ê³¼ 0ìœ¼ë¡œ ê°’ í•˜ë‚˜ì— ëŒ€í•œ ì €ì¥ì„ í‘œì‹œí•˜ì§€ë§Œ, ë²„í¼ê°€ ì°¨ ìˆëŠ” ì§€ í™•ì¸í•˜ê³  ì ‘ê·¼, í™•ì¸ í›„ ë¹„ì›€ í‘œì‹œ ë“±ì„ ì œëŒ€ë¡œ í•˜ê³  ìˆë‹¤.\nâ¡ï¸ ë²„í¼ì˜ countê°€ 0(ë²„í¼ ë¹„ì–´ìˆìŒ)ì´ë©´ ë°ì´í„° ì‚½ì…\nâ¡ï¸ ë²„í¼ì˜ countê°€ 1(ë²„í¼ ê°€ë“ ì°¸)ì¼ ë•Œë§Œ ë²„í¼ì—ì„œ ë°ì´í„° ì¶”ì¶œ"}]},{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"put()"},{"type":"span","value":"ê³¼ "},{"type":"span","marks":["code"],"value":"get()"},{"type":"span","value":" ë£¨í‹´ì—ëŠ” ì„ê³„ ì˜ì—­ì´ ìˆë‹¤.\nâ¡ï¸ í•˜ì§€ë§Œ ë½ ì¶”ê°€ë§Œìœ¼ë¡œ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì€ ì•„ë‹˜.\nâ¡ï¸ ğŸš¦"},{"type":"span","marks":["highlight"],"value":"ì»¨ë””ì…˜ ë³€ìˆ˜"},{"type":"span","value":"ê°€ í•„ìš”"}]},{"type":"paragraph","children":[{"type":"span","value":"ì•„ë˜ì˜ ì½”ë“œëŠ” "},{"type":"span","marks":["code"],"value":"cond"},{"type":"span","value":" ì»¨ë””ì…˜ ë³€ìˆ˜ í•˜ë‚˜ì™€ ê·¸ì— ì—°ê²°ëœ "},{"type":"span","marks":["code"],"value":"mutex"},{"type":"span","value":" ë½ì„ ì‚¬ìš©í•œë‹¤."}]},{"code":"cond_t cond;\nmutex_t mutex;\n\nvoid *producer(void *arg) {\n  int i;\n  for (i = 0; i < loops; i++) {\n    Pthread_mutex_lock(&mutex);         // p1\n    if (count == 1)                     // p2\n      Pthread_cond_wait(&cond, &mutex); // p3\n    put(i);                             // p4\n    Pthread_cond_signal(&cond);         // p5\n    Pthread_mutex_unlock(&mutex);       // p6\n  }\n}\n\nvoid *consumer(void *arg) {\n  int i;\n  for (i = 0; i < loops; i++) {\n    Pthread_mutex_lock(&mutex);         // c1\n    if (count == 0)                     // c2\n      Pthread_cond_wait(&cond, &mutex); // c3\n    int tmp = get();                    // c4\n    Pthread_cond_signal(&cond);         // c5\n    Pthread_mutex_unlock(&mutex);       // c6\n    printf(\"%d\\n\", tmp);\n  }\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"ìƒì‚°ìëŠ” ë²„í¼ê°€ ë¹Œ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê³ (p1-p3), ì†Œë¹„ìë„ ë²„í¼ê°€ ì°¨ê¸°ë¥¼ ê¸°ë‹¤ë¦°ë‹¤.(c1-c3)\nâ¡ï¸ ğŸš« í•˜ì§€ë§Œ ë‘ ê°œ ì´ìƒì˜ ê°™ì€ ì¢…ë¥˜ì˜ ì“°ë ˆë“œê°€ ìˆë‹¤ë©´, ì´ ë°©ë²•ì—ì„œëŠ” ë‘ ê°€ì§€ ë¬¸ì œê°€ ë°œìƒí•œë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"ë‘ ê°œì˜ ì†Œë¹„ì(Tc1, Tc2)ì™€ í•œ ê°œì˜ ìƒì‚°ì(Tp)ê°€ ìˆë‹¤ê³  ê°€ì •í•˜ì."}]},{"type":"paragraph","children":[{"type":"span","value":"[âš ï¸ ë¬¸ì œì 1]"}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Tc1ì´ ì‹¤í–‰í•˜ì—¬ ë½ì„ íšë“(c1)í•˜ê³  ë²„í¼ë¥¼ ì†Œë¹„í•  ìˆ˜ ìˆëŠ”ì§€ ê²€ì‚¬(c2)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë¹„ì–´ ìˆìŒì„ í™•ì¸ í›„ ëŒ€ê¸°í•˜ë©°(c3) ë½ì„ í•´ì œ"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Tpê°€ ì‹¤í–‰í•˜ì—¬ ë½ì„ íšë“(p1)í•˜ê³  ë²„í¼ê°€ ë¹„ì—ˆëŠ”ì§€ í™•ì¸(p2)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë¹„ì–´ ìˆìŒì„ í™•ì¸í•˜ê³  ë²„í¼ë¥¼ ì±„ìš´(p4) í›„ ë²„í¼ê°€ ê°€ë“ ì°¼ë‹¤ëŠ” ì‹œê·¸ë„ ì „ì†¡(p5)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ëŒ€ê¸° ì¤‘ì¸ Tc1ì€ ê¹¨ì–´ë‚˜ ready queueë¡œ ì´ë™í•˜ì§€ë§Œ ì•„ì§ ì‹¤í–‰í•˜ì§€ ì•ŠìŒ."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ìƒì‚°ìê°€ ê³„ì† ì‹¤í–‰í•˜ì§€ë§Œ ë²„í¼ê°€ ì°¨ ìˆìœ¼ë¯€ë¡œ ëŒ€ê¸° ìƒíƒœë¡œ ì „ì´(p6, p1-p3)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"âš ï¸ "},{"type":"span","marks":["highlight"],"value":"Tc2ê°€ ì‹¤í–‰í•˜ì—¬ ë²„í¼ ê°’ì„ ì†Œë¹„(c1-c2, c4-c6)"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Tc1ì´ ì‹¤í–‰ë˜ì–´ ëŒ€ê¸°ì—ì„œ ë¦¬í„´í•˜ê¸° ì „ ë½ íšë“"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"get()"},{"type":"span","value":"ì„ í˜¸ì¶œ(c4)í•˜ì§€ë§Œ ë²„í¼ëŠ” ë¹„ì–´ìˆìŒ. â¡ï¸ ì˜ë„í•œ ëŒ€ë¡œ ê¸°ëŠ¥X"}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"Tc1ì´ ê¹¨ì–´ë‚˜ì„œ ì‹¤í–‰ë˜ê¸°ê¹Œì§€ ì‚¬ì´ì— ìœ í•œ ë²„í¼ì˜ ìƒíƒœê°€ ë³€ê²½ë¨.\nâ¡ï¸ "},{"type":"span","marks":["highlight"],"value":"ì‹œê·¸ë„ì€ ì“°ë ˆë“œë¥¼ ê¹¨ìš°ì§€ë§Œ ì“°ë ˆë“œê°€ ì‹¤ì œ ì‹¤í–‰ë˜ëŠ” ì‹œì ì—ë„ ê·¸ ìƒíƒœê°€ ìœ ì§€ëœë‹¤ëŠ” ë³´ì¥X"}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸ’¡ ì´ëŸ° ì‹ìœ¼ë¡œ ì‹œê·¸ë„ì„ ì •ì˜í•˜ëŠ” ê²ƒì„ "},{"type":"span","marks":["highlight"],"value":"Mesa semantic"},{"type":"span","value":"ì´ë¼ê³  í•¨.\nâ¡ï¸ ëŒ€ë¶€ë¶„ì˜ ì‹œìŠ¤í…œì´ ì±„ìš©"}]},{"type":"paragraph","children":[{"type":"span","value":"ğŸ’¡ ì´ì™€ ëŒ€ë¹„ë˜ëŠ” ê°œë…ì€ "},{"type":"span","marks":["highlight"],"value":"Hoare semantic"},{"type":"span","value":"ì´ ìˆìŒ.\nâ¡ï¸ êµ¬í˜„í•˜ê¸°ëŠ” ë” ì–´ë µì§€ë§Œ ê¹¨ì–´ë‚œ ì¦‰ì‹œ ì“°ë ˆë“œê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³´ì¥"}]},{"type":"paragraph","children":[{"type":"span","value":"âœ… ìœ„ì˜ ë¬¸ì œëŠ” "},{"type":"span","marks":["highlight"],"value":"ëŒ€ê¸° ëª…ë ¹ ì „ì˜ if ë¬¸ì„ while ë¬¸ìœ¼ë¡œ ë°”ê¾¸ì–´ í•´ê²°"},{"type":"span","value":"í•  ìˆ˜ ìˆë‹¤.\nâ¡ï¸ Tc1ì´ ê¹¨ì–´ë‚˜ì„œ(ë½ì„ íšë“í•œ ìƒíƒœ) ì¦‰ì‹œ ê³µìœ  ë³€ìˆ˜ì˜ ìƒíƒœë¥¼ ì¬í™•ì¸í•˜ì—¬ ë²„í¼ê°€ ë¹„ì–´ ìˆë‹¤ë©´ ëŒ€ê¸° ìƒíƒœë¡œ ëŒì•„ê°.\nâ¡ï¸ ì†Œë¹„ì ì½”ë“œì™€ í•¨ê»˜ ìƒì‚°ì ì½”ë“œì—ì„œë„ "},{"type":"span","marks":["code"],"value":"if"},{"type":"span","value":" ë¬¸ì„ "},{"type":"span","marks":["code"],"value":"while"},{"type":"span","value":" ë¬¸ìœ¼ë¡œ ë³€ê²½"}]},{"type":"paragraph","children":[{"type":"span","value":"ì•„ë˜ëŠ” ìˆ˜ì •ëœ ì½”ë“œì´ë‹¤."}]},{"code":"cond_t cond;\nmutex_t mutex;\n\nvoid *producer(void *arg) {\n  int i;\n  for (i = 0; i < loops; i++) {\n    Pthread_mutex_lock(&mutex);         \n    while (count == 1)                  // ë³€ê²½\n      Pthread_cond_wait(&cond, &mutex); \n    put(i);                             \n    Pthread_cond_signal(&cond);         \n    Pthread_mutex_unlock(&mutex);       \n  }\n}\n\nvoid *consumer(void *arg) {\n  int i;\n  for (i = 0; i < loops; i++) {\n    Pthread_mutex_lock(&mutex);         \n    while (count == 0)                  // ë³€ê²½\n      Pthread_cond_wait(&cond, &mutex); \n    int tmp = get();                    \n    Pthread_cond_signal(&cond);         \n    Pthread_mutex_unlock(&mutex);       \n    printf(\"%d\\n\", tmp);\n  }\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"Mesa semanticì˜ ì»¨ë””ì…˜ ë³€ìˆ˜ì—ì„œ ê°€ì¥ ê¸°ë³¸ì ì¸ ë²•ì¹™: "},{"type":"span","marks":["highlight"],"value":"ì–¸ì œë‚˜ while ë¬¸ì„ ì‚¬ìš©"},{"type":"span","value":"\nâ¡ï¸ í•­ìƒ ê²€ì‚¬í•˜ëŠ” ê²ƒì´ ì•ˆì „"}]},{"type":"paragraph","children":[{"type":"span","value":"[âš ï¸ ë¬¸ì œì 2]"}]},{"type":"paragraph","children":[{"type":"span","value":"ì´ ë¬¸ì œëŠ” Tc1ê³¼ Tc2ê°€ ë¨¼ì € ì‹¤í–‰í•œ í›„ ë‘˜ ë‹¤ ëŒ€ê¸° ìƒíƒœì— ìˆì„ ë•Œ ë°œìƒí•œë‹¤."}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë‘ ì†Œë¹„ì ì“°ë ˆë“œëŠ” ëŒ€ê¸°í•˜ê³  Tpê°€ ì‹¤í–‰ë˜ì–´ ë²„í¼ì— ê°’ì„ ë„£ê³  Tc1ì„ ê¹¨ìš°ê³  ìì‹ ì€ ëŒ€ê¸°"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"Tc1ì´ "},{"type":"span","marks":["code"],"value":"wait()"},{"type":"span","value":"ì—ì„œ ë¦¬í„´ì„ ë°›ì•„ ê¹¨ì–´ë‚˜ê³  ì¡°ê±´ì„ ì¬í™•ì¸"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ë²„í¼ê°€ ì°¨ìˆë‹¤ëŠ” ê²ƒì„ ë°œê²¬í•˜ê³  ê°’ì„ ì†Œë¹„"}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ì´í›„ ì‹œê·¸ë„ì„ ì „ì†¡í•˜ì—¬ ëŒ€ê¸° ì¤‘ì¸ ì“°ë ˆë“œ ì¤‘ í•˜ë‚˜ë¥¼ ê¹¨ì›€."}]},{"type":"list","style":"numbered","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ì´ë•Œ ì–´ë–¤ ì“°ë ˆë“œë¥¼ ê¹¨ì›Œì•¼ í• ê¹Œ?"}]}]}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"âš ï¸ ì†Œë¹„ìê°€ ë²„í¼ë¥¼ ë¹„ì› ìœ¼ë¯€ë¡œ ë‹¹ì—°íˆ Tpë¥¼ ê¹¨ì›Œì•¼ í•˜ì§€ë§Œ, Tc2ë¥¼ ê¹¨ìš´ë‹¤ë©´ ë¬¸ì œê°€ ë°œìƒí•¨.\nâ¡ï¸ Tc2ê°€ ê¹¨ì–´ë‚˜ë©´ ë²„í¼ê°€ ë¹„ì–´ ìˆë‹¤ëŠ” ê²ƒì„ í™•ì¸í•œ í›„ ëŒ€ê¸° ìƒíƒœë¡œ ë“¤ì–´ê°.\nâ¡ï¸ ë²„í¼ì— ê°’ì„ ë„£ì–´ì•¼ í•˜ëŠ” Tpì™€ ë‹¤ë¥¸ ì†Œë¹„ìì¸ Tc1 ì—­ì‹œ ëŒ€ê¸° ìƒíƒœì— ë“¤ì–´ê°.\nâ¡ï¸ "},{"type":"span","marks":["highlight"],"value":"ì„¸ ê°œì˜ ì“°ë ˆë“œê°€ ëª¨ë‘ ëŒ€ê¸° ìƒíƒœì— ë†“ì„."}]},{"type":"paragraph","children":[{"type":"span","value":"â­ "},{"type":"span","marks":["highlight"],"value":"ì‹œê·¸ë„ì„ ë³´ë‚´ëŠ” ê²ƒì€ ê¼­ í•„ìš”í•˜ì§€ë§Œ ëŒ€ìƒì´ ëª…í™•í•´ì•¼ í•¨."},{"type":"span","value":"\nâ¡ï¸ ì†Œë¹„ìëŠ” ë‹¤ë¥¸ ì†Œë¹„ìë¥¼ ê¹¨ìš¸ ìˆ˜ ì—†ê³  ìƒì‚°ìë§Œ ê¹¨ì›Œì•¼ í•˜ë©°, ë°˜ëŒ€ë¡œ ìƒì‚°ìì˜ ê²½ìš°ë„ ë§ˆì°¬ê°€ì§€ì„."}]},{"type":"paragraph","children":[{"type":"span","value":"âœ… ìœ„ì˜ ë¬¸ì œëŠ” "},{"type":"span","marks":["highlight"],"value":"ë‘ ê°œì˜ ì»¨ë””ì…˜ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‹œìŠ¤í…œì˜ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ê¹¨ì›Œì•¼ í•˜ëŠ” ì“°ë ˆë“œì—ê²Œë§Œ ì‹œê·¸ë„ì„ ì œëŒ€ë¡œ ì „ë‹¬í•˜ì—¬ í•´ê²°"},{"type":"span","value":"í•  ìˆ˜ ìˆë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"ì•„ë˜ëŠ” ìˆ˜ì •ëœ ì½”ë“œì´ë‹¤."}]},{"code":"cond_t empty fill;                       // ë³€ê²½\nmutex_t mutex;\n\nvoid *producer(void *arg) {\n  int i;\n  for (i = 0; i < loops; i++) {\n    Pthread_mutex_lock(&mutex);         \n    while (count == 1)                     \n      Pthread_cond_wait(&empty, &mutex); // ë³€ê²½\n    put(i);                             \n    Pthread_cond_signal(&fill);          // ë³€ê²½\n    Pthread_mutex_unlock(&mutex);       \n  }\n}\n\nvoid *consumer(void *arg) {\n  int i;\n  for (i = 0; i < loops; i++) {\n    Pthread_mutex_lock(&mutex);         \n    while (count == 0)                    \n      Pthread_cond_wait(&fill, &mutex);  // ë³€ê²½\n    int tmp = get();                    \n    Pthread_cond_signal(&empty);         // ë³€ê²½\n    Pthread_mutex_unlock(&mutex);      \n    printf(\"%d\\n\", tmp);\n  }\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"ìƒì‚°ì ì“°ë ˆë“œê°€ "},{"type":"span","marks":["code"],"value":"empty"},{"type":"span","value":" ì¡°ê±´ ë³€ìˆ˜ì—ì„œ ëŒ€ê¸°í•˜ê³  "},{"type":"span","marks":["code"],"value":"fill"},{"type":"span","value":"ì— ëŒ€í•´ì„œ ì‹œê·¸ë„ì„ ë°œìƒ"}]},{"type":"paragraph","children":[{"type":"span","value":"ì†Œë¹„ì ì“°ë ˆë“œëŠ” "},{"type":"span","marks":["code"],"value":"fill"},{"type":"span","value":"ì— ëŒ€í•´ì„œ ëŒ€ê¸°í•˜ê³  "},{"type":"span","marks":["code"],"value":"empty"},{"type":"span","value":"ì— ëŒ€í•´ì„œ ì‹œê·¸ë„ì„ ë°œìƒ"}]},{"type":"paragraph","children":[{"type":"span","value":"ì¦‰, ì„œë¡œê°€ ê°™ì€ ì¢…ë¥˜ì˜ ì“°ë ˆë“œë¥¼ ì ˆëŒ€ë¡œ ê¹¨ìš¸ ì¼ì´ ì—†ë„ë¡ ë§Œë“¦."}]},{"type":"heading","level":3,"children":[{"type":"span","value":"ìµœì¢…ì ì¸ ìƒì‚°ì/ì†Œë¹„ì í•´ë²•"}]},{"type":"paragraph","children":[{"type":"span","value":"ì´ì œ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ” ìƒì‚°ì/ì†Œë¹„ì í•´ë²•ì„ ì–»ì—ˆì§€ë§Œ ì•„ì§ê¹Œì§€ëŠ” ë³´í¸ì ì¸ ë°©ë²•ì€ ì•„ë‹˜."}]},{"type":"paragraph","children":[{"type":"span","value":"ë‹¤ìŒì„ í†µí•´ ë³‘í–‰ì„±ì„ ì¦ê°€ì‹œí‚¤ê³  ë” íš¨ìœ¨ì ìœ¼ë¡œ ë§Œë“¦."}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ğŸ’¡ "},{"type":"span","marks":["highlight"],"value":"ë²„í¼ ê³µê°„ì„ ì¶”ê°€"}]},{"type":"list","style":"bulleted","children":[{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ëŒ€ê¸° ìƒíƒœ ì§„ì… ì „ ì—¬ëŸ¬ ê°’ë“¤ì´ ìƒì‚°ë  ìˆ˜ ìˆë„ë¡ í•¨."}]}]},{"type":"listItem","children":[{"type":"paragraph","children":[{"type":"span","value":"ì—¬ëŸ¬ ê°œì˜ ê°’ì´ ëŒ€ê¸° ìƒíƒœ ì „ì— ì†Œë¹„ë  ìˆ˜ ìˆë„ë¡ í•¨."}]}]}]}]}]},{"type":"paragraph","children":[{"type":"span","value":"í•˜ë‚˜ì˜ ìƒì‚°ìì™€ ì†Œë¹„ìì˜ ê²½ìš°, ë²„í¼ê°€ ì»¤ì§€ë©´ ì“°ë ˆë“œ ê°„ì˜ ë¬¸ë§¥ êµí™˜ì´ ì¤„ì–´ë“¤ì–´ ë” íš¨ìœ¨ì "}]},{"type":"paragraph","children":[{"type":"span","value":"ë©€í‹° ìƒì‚°ì ë˜ëŠ” ë©€í‹° ì†Œë¹„ìì˜ ê²½ìš° ìƒì‚°ê³¼ ì†Œë¹„ê°€ ë³‘í–‰ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë³‘í–‰ì„±ì´ ì¢‹ì•„ì§."}]},{"type":"paragraph","children":[{"type":"span","value":"ì•„ë˜ê³¼ ê°™ì´ ë²„í¼ êµ¬ì¡°ì™€ "},{"type":"span","marks":["code"],"value":"put()"},{"type":"span","value":"ê³¼ "},{"type":"span","marks":["code"],"value":"get()"},{"type":"span","value":"ì„ ë³€ê²½í•˜ì—¬ ì ìš©ì‹œí‚¬ ìˆ˜ ìˆë‹¤.\nì´ì™€ í•¨ê»˜ ìƒì‚°ìì™€ ì†Œë¹„ìê°€ ëŒ€ê¸° ìƒíƒœê°€ ë˜ëŠ” ì§€ì— ëŒ€í•œ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” ì¡°ê±´ë„ ì•½ê°„ ë³€ê²½í•œë‹¤."}]},{"code":"int buffer[MAX];\nint fill = 0;\nint use = 0;\nint count = 0;\n\nvoid put(int value) {\n  buffer[fill] = value;\n  fill = (fill + 1) % MAX;\n  count++;\n}\n\nint get() {\n  int tmp = buffer[use];\n  use = (use + 1) % MAX;\n  countâˆ’âˆ’;\n  return tmp;\n}","type":"code","language":"c"},{"code":"cond_t empty, fill;\nmutex_t mutex;\n\nvoid *producer(void *arg) {\n  int i;\n  for (i = 0; i < loops; i++) {\n    Pthread_mutex_lock(&mutex); \n    while (count == MAX) \n      Pthread_cond_wait(&empty, &mutex); \n    put(i); \n    Pthread_cond_signal(&fill);\n    Pthread_mutex_unlock(&mutex);\n  }\n}\n\nvoid *consumer(void *arg) {\n  int i;\n  for (i = 0; i < loops; i++) {\n    Pthread_mutex_lock(&mutex); \n    while (count == 0) \n      Pthread_cond_wait(&fill, &mutex); \n    int tmp = get(); \n    Pthread_cond_signal(&empty); \n    Pthread_mutex_unlock(&mutex); \n    printf(\"%d\\n\", tmp);\n  }\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"âœ… ìƒì‚°ìëŠ” ëª¨ë“  ë²„í¼ê°€ í˜„ì¬ ê°€ë“ ì°¨ìˆë‹¤ë©´ ëŒ€ê¸° ìƒíƒœì— ë“¤ì–´ê°„ë‹¤."}]},{"type":"paragraph","children":[{"type":"span","value":"âœ… ì†Œë¹„ìë„ ëª¨ë“  ë²„í¼ê°€ ë¹„ì–´ ìˆë‹¤ë©´ ëŒ€ê¸°ì— ë“¤ì–´ê°„ë‹¤."}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"3ï¸âƒ£ ì»¨ë””ì…˜ ë³€ìˆ˜ ì‚¬ìš© ì‹œ ì£¼ì˜ì "}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"ğŸ“š ì°¸ê³  ë¬¸í—Œ"}]},{"type":"paragraph","children":[{"url":"https://pages.cs.wisc.edu/~remzi/OSTEP/threads-cv.pdf","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"Operating Systems: Three Easy Pieces â€• 30: Condition Variables"}]}]},{"type":"paragraph","children":[{"url":"https://pages.cs.wisc.edu/~remzi/OSTEP/Korean/30_threads-cv.pdf","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"ìš´ì˜ì²´ì œ ì•„ì£¼ ì‰¬ìš´ ì„¸ ê°€ì§€ ì´ì•¼ê¸° â€• 33: ì»¨ë””ì…˜ ë³€ìˆ˜"}]}]}]}}}}},"pageContext":{"id":"199240150","locale":"ko-KR"}},"staticQueryHashes":["1034768456","1118752904","2342916782","2757196681","3415878905","3879866231","4195094990"]}