{
    "componentChunkName": "component---src-templates-article-jsx",
    "path": "/blog/development/os-memory-api",
    "result": {"data":{"datoCmsMiscTextString":{"locale":"ko-KR","updatedAtText":"업데이트됨","nextReadText":"관련있는 게시물"},"datoCmsBlogPost":{"locale":"ko-KR","originalId":"145790692","title":"[운영체제][OSTEP] 메모리 관리 API","seo":{"seoTitle":"[운영체제][OSTEP] 메모리 관리 API","seoDescription":"Unix/C 프로그램에서 메모리를 할당하고 관리하는 방법에 대해 공부해봅니다.","seoImage":{"seoImageUrl":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format"}},"subtitle":"Unix/C 프로그램에서 메모리를 할당하고 관리하는 방법에 대해 공부해봅니다.","coverImage":{"coverImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.25&w=860 215w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.5&w=860 430w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860 860w","sizes":"(min-width: 860px) 860px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgLCgoLDhMVDhcNDh0VDxUSGhYdHSIVFhUaKysjGh0oHSEWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLCgUFEBAOEC8oIhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAwAGAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAFAQQGAP/EAB0QAAEEAgMAAAAAAAAAAAAAAAEAAgMEESEFEjL/xAAWAQADAAAAAAAAAAAAAAAAAAAAAQP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDD1KM1uPLjpIRUI4GZc4aRXH25hTOHqqbth7yDIVIiXI2IQzqCoREhL/RyuQH/2Q=="},"width":860,"height":430}},"meta":{"updatedAt":"2023-07-04T02:18:32.794+09:00","firstPublishedAt":"2023-07-04T01:03:46.625+09:00"},"categoryLink":{"title":"개발 공부","id":"4743072"},"author":{"authorName":"손승열(Son Seungyeol)","picture":{"authorPictureData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 60px) 60px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgWEQ8LDhgYDhUNDhgNDw8NFxUdGBYfFhUaHysjGikoHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHBANHDUcIig7NS81NS81MjUvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAFAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAABQYHAv/EAB4QAAICAgMBAQAAAAAAAAAAAAABAgMFBgQRQXEi/8QAFQEBAQAAAAAAAAAAAAAAAAAABAP/xAAaEQACAwEBAAAAAAAAAAAAAAAAAQIDEhMR/9oADAMBAAIRAxEAPwDT8/1LHSK/r67scevSfz99VXBkm/Cva/zKle/pCc/JoRXWsFujxvygcLI1pAXqQTmjONm2RzpceyCwmwxpsbbADWJdBFbeCfe2wXoAGpIL6z//2Q=="},"width":60,"height":60}}},"relatedPosts":[{"id":"145795748","meta":{"updatedAt":"2023-07-04T04:17:11.088+09:00"},"categoryLink":{"title":"개발 공부"},"coverImage":{"gatsbyImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.09&w=860 75w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.18&w=860 150w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860 300w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.7&w=860 600w","sizes":"(min-width: 300px) 300px, 100vw"}},"layout":"constrained","width":300,"height":120},"squaredImage":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.06&fit=crop&fp-x=0.5&fp-y=0.5&w=430 25w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.12&fit=crop&fp-x=0.5&fp-y=0.5&w=430 50w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430 100w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.47&fit=crop&fp-x=0.5&fp-y=0.5&w=430 200w","sizes":"(min-width: 100px) 100px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhINEBAQCggUDg0IDgcHFh0JFhEYFxUZGCIVFhUaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OEg4REC8dFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAGAMBIgACEQEDEQH/xAAaAAEBAAIDAAAAAAAAAAAAAAAABAUGAQID/8QAHRAAAgICAwEAAAAAAAAAAAAAAAIDBAEREhQVBf/EABYBAQEBAAAAAAAAAAAAAAAAAAADAf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/ANASs2WLoaraMl1o0O241wSYlSHjgHM9hVAEFr6bKSemzAAeclpnAAH/2Q=="},"width":100,"height":100}},"author":{"authorName":"손승열(Son Seungyeol)","picture":{"authorImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.11&w=77 8w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 30px) 30px, 100vw"}},"layout":"constrained","width":30,"height":30}}},"subtitle":"주소 공간의 개념에 대해 공부해봅니다.","title":"[운영체제][OSTEP] 주소 공간의 개념"}],"structuredBody":{"blocks":[],"links":[],"value":{"schema":"dast","document":{"type":"root","children":[{"type":"heading","level":2,"children":[{"type":"span","value":"1️⃣ 메모리 공간의 종류"}]},{"type":"paragraph","children":[{"type":"span","value":"C 프로그램이 실행되면, 두 가지 유형의 메모리 공간이 할당된다."}]},{"type":"heading","level":3,"children":[{"type":"span","marks":["highlight"],"value":"스택(stack) 메모리"}]},{"type":"paragraph","children":[{"type":"span","value":"할당과 반환은 프로그래머를 위해 "},{"type":"span","marks":["highlight"],"value":"컴파일러"},{"type":"span","value":"에 의해 "},{"type":"span","marks":["emphasis"],"value":"암묵적으로"},{"type":"span","value":" 이루어진다.\n➡️ 이러한 이유로 "},{"type":"span","marks":["highlight"],"value":"자동(automatic)"},{"type":"span","value":" 메모리라고도 불림."}]},{"type":"paragraph","children":[{"type":"span","value":"C 프로그램에서 스택에 메모리를 선언하기 위해서는 다음과 같은 식으로 코드를 작성하면 된다."}]},{"code":"void func() {\n  int x; // 스택에 int 형을 선언\n  ...\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"위는 func( )라는 함수 안에서 정수를 저장할 변수 x를 위한 공간이 필요한 경우이다."}]},{"type":"paragraph","children":[{"type":"span","value":"이 경우 컴파일러가 나머지 작업을 수행하여, "},{"type":"span","marks":["highlight"],"value":"func( )가 호출될 때 스택에 공간을 확보"},{"type":"span","value":"한다."}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"함수에서 리턴하면 컴파일러는 프로그래머 대신 메모리를 반환"},{"type":"span","value":"한다.\n➡️ 함수 리턴 이후에도 유지되어야 하는 정보는 스택에 저장하지 않는 것이 바람직"}]},{"type":"heading","level":3,"children":[{"type":"span","marks":["highlight"],"value":"힙(heap) 메모리"}]},{"type":"paragraph","children":[{"type":"span","value":"모든 할당과 반환이 "},{"type":"span","marks":["highlight"],"value":"프로그래머"},{"type":"span","value":"에 의해 명시적으로 처리된다."}]},{"type":"paragraph","children":[{"type":"span","value":"이로 인해 프로그래머는 메모리 사용에 대한 책임을 져야하고 또한 이는 많은 버그의 원인이 되기도 한다. 🐞"}]},{"type":"paragraph","children":[{"type":"span","value":"C 프로그램에서 힙에 메모리를 할당하기 위해서는 다음과 같은 식으로 코드를 작성하면 된다."}]},{"code":"void func() {\n  int *x = (int *) malloc(sizeof(int));\n  ...\n}","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":"위는 정수에 대한 포인터 변수 x를 위한 공간을 힙에 할당하는 경우이다."}]},{"type":"paragraph","children":[{"type":"span","value":"⚠️ 위 코드에서의 주의 사항을 살펴보자."}]},{"type":"paragraph","children":[{"type":"span","value":"1️⃣ 한 행에 "},{"type":"span","marks":["highlight"],"value":"스택과 힙 할당이 모두 발생"},{"type":"span","value":"한다.\n➡️ 포인터 변수 "},{"type":"span","marks":["code"],"value":"int *x"},{"type":"span","value":" 선언 시 정수 포인터를 위한 공간을 스택에 할당한다.\n➡️ 프로그램이 "},{"type":"span","marks":["code"],"value":"malloc()"},{"type":"span","value":"을 호출하여 정수를 위한 공간을 힙으로부터 요구한다."}]},{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"malloc()"},{"type":"span","value":"은 "},{"type":"span","marks":["highlight"],"value":"성공한 경우 그 정수가 저장된 메모리 주소를 반환"},{"type":"span","value":"하고, "},{"type":"span","marks":["highlight"],"value":"실패한 경우에는 "},{"type":"span","marks":["code","highlight"],"value":"NULL"},{"type":"span","marks":["highlight"],"value":"을 반환"},{"type":"span","value":"한다.\n➡️ 이 반환된 주소는 스택에 저장되어 프로그램에 의해 사용된다."}]},{"type":"paragraph","children":[{"type":"span","value":"이러한 명시적 성질과 다양한 쓰임새로 인해 힙 메모리의 사용한 사용자 & 시스템 모두에게 어려운 숙제"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"2️⃣ malloc( ) 함수"}]},{"type":"paragraph","children":[{"type":"span","value":"힙에 요청할 공간의 크기를 넘겨 주었을 때, \n[✅ 성공 시] "},{"type":"span","marks":["highlight"],"value":"새로 할당된 공간에 대한 포인터를 사용자에게 반환"},{"type":"span","value":"\n[🚫 실패 시] "},{"type":"span","marks":["code","highlight"],"value":"NULL"},{"type":"span","marks":["highlight"],"value":"을 반환"}]},{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"malloc()"},{"type":"span","value":"을 사용하기 위해서는 "},{"type":"span","marks":["code"],"value":"stdlib.h"},{"type":"span","value":"를 소스 코드에 포함시켜야 한다.\n➡️ 모든 C 프로그램에 디폴트로 링크되는 C 라이브러리는 "},{"type":"span","marks":["code"],"value":"malloc()"},{"type":"span","value":" 함수를 가지고 있으므로 포함시키지 않아도 됨.\n➡️ 헤더 파일 추가 시 "},{"type":"span","marks":["code"],"value":"malloc()"},{"type":"span","value":"을 올바르게 호출했는지 컴파일러가 검사할 수 있음."}]},{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"malloc()"},{"type":"span","value":"의 인자는 "},{"type":"span","marks":["code"],"value":"size_t"},{"type":"span","value":" 타입(필요 공간의 크기를 바이트 단위로 표시)의 변수"}]},{"type":"paragraph","children":[{"type":"span","value":"예를 들어, "},{"type":"span","marks":["code"],"value":"double"},{"type":"span","value":" 부동 소수점 값을 위한 공간을 확보하기 위해서는 다음과 같이 코드를 작성할 수 있음."}]},{"code":"double *d = (double *) malloc(sizeof(double));","type":"code","language":"c"},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"3️⃣"}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"4️⃣"}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"5️⃣"}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"6️⃣"}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"📚 참고 문헌"}]},{"type":"paragraph","children":[{"url":"https://pages.cs.wisc.edu/~remzi/OSTEP/vm-api.pdf","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"Operating Systems: Three Easy Pieces ― 14: Interlude: Memory API"}]}]},{"type":"paragraph","children":[{"url":"https://pages.cs.wisc.edu/~remzi/OSTEP/Korean/14-vm-api.pdf","meta":[{"id":"target","value":"_blank"}],"type":"link","children":[{"type":"span","value":"운영체제 아주 쉬운 세 가지 이야기 ― 17: 막간 : 메모리 관리 API"}]}]}]}}}}},"pageContext":{"id":"145790692","locale":"ko-KR"}},
    "staticQueryHashes": ["1034768456","1118752904","2342916782","2757196681","3415878905","3879866231","4195094990"]}