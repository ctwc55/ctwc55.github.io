{
    "componentChunkName": "component---src-templates-article-jsx",
    "path": "/blog/development/os-scheduling-proportional-share",
    "result": {"data":{"datoCmsMiscTextString":{"locale":"ko-KR","updatedAtText":"업데이트됨","nextReadText":"관련있는 게시물"},"datoCmsBlogPost":{"locale":"ko-KR","originalId":"143121405","title":"[운영체제][OSTEP] 스케줄링: 비례 배분","seo":{"seoTitle":"[운영체제][OSTEP] 스케줄링: 비례 배분","seoDescription":"특정 비율로 CPU를 배분하는 스케줄링 방법에 대해 공부해봅니다.","seoImage":{"seoImageUrl":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format"}},"subtitle":"특정 비율로 CPU를 배분하는 스케줄링 방법에 대해 공부해봅니다.","coverImage":{"coverImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.25&w=860 215w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.5&w=860 430w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860 860w","sizes":"(min-width: 860px) 860px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgLCgoLDhMVDhcNDh0VDxUSGhYdHSIVFhUaKysjGh0oHSEWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLCgUFEBAOEC8oIhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAwAGAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAFAQQGAP/EAB0QAAEEAgMAAAAAAAAAAAAAAAEAAgMEESEFEjL/xAAWAQADAAAAAAAAAAAAAAAAAAAAAQP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDD1KM1uPLjpIRUI4GZc4aRXH25hTOHqqbth7yDIVIiXI2IQzqCoREhL/RyuQH/2Q=="},"width":860,"height":430}},"meta":{"updatedAt":"2023-06-30T22:59:56.702+09:00","firstPublishedAt":"2023-06-29T20:57:22.940+09:00"},"categoryLink":{"title":"개발 공부","id":"4743072"},"author":{"authorName":"손승열(Son Seungyeol)","picture":{"authorPictureData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 60px) 60px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgWEQ8LDhgYDhUNDhgNDw8NFxUdGBYfFhUaHysjGikoHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHBANHDUcIig7NS81NS81MjUvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAFAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAABQYHAv/EAB4QAAICAgMBAQAAAAAAAAAAAAABAgMFBgQRQXEi/8QAFQEBAQAAAAAAAAAAAAAAAAAABAP/xAAaEQACAwEBAAAAAAAAAAAAAAAAAQIDEhMR/9oADAMBAAIRAxEAPwDT8/1LHSK/r67scevSfz99VXBkm/Cva/zKle/pCc/JoRXWsFujxvygcLI1pAXqQTmjONm2RzpceyCwmwxpsbbADWJdBFbeCfe2wXoAGpIL6z//2Q=="},"width":60,"height":60}}},"relatedPosts":[{"id":"140763908","meta":{"updatedAt":"2023-06-29T20:58:29.348+09:00"},"categoryLink":{"title":"개발 공부"},"coverImage":{"gatsbyImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.09&w=860 75w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.18&w=860 150w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860 300w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.7&w=860 600w","sizes":"(min-width: 300px) 300px, 100vw"}},"layout":"constrained","width":300,"height":120},"squaredImage":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.06&fit=crop&fp-x=0.5&fp-y=0.5&w=430 25w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.12&fit=crop&fp-x=0.5&fp-y=0.5&w=430 50w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430 100w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.47&fit=crop&fp-x=0.5&fp-y=0.5&w=430 200w","sizes":"(min-width: 100px) 100px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhINEBAQCggUDg0IDgcHFh0JFhEYFxUZGCIVFhUaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OEg4REC8dFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAGAMBIgACEQEDEQH/xAAaAAEBAAIDAAAAAAAAAAAAAAAABAUGAQID/8QAHRAAAgICAwEAAAAAAAAAAAAAAAIDBAEREhQVBf/EABYBAQEBAAAAAAAAAAAAAAAAAAADAf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/ANASs2WLoaraMl1o0O241wSYlSHjgHM9hVAEFr6bKSemzAAeclpnAAH/2Q=="},"width":100,"height":100}},"author":{"authorName":"손승열(Son Seungyeol)","picture":{"authorImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.11&w=77 8w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 30px) 30px, 100vw"}},"layout":"constrained","width":30,"height":30}}},"subtitle":"작업의 실행 시간에 대한 선행 정보 없이 스케줄링하는 방법에 대해 공부해봅니다.","title":"[운영체제][OSTEP] 멀티 레벨 피드백 큐"}],"structuredBody":{"blocks":[],"links":[],"value":{"schema":"dast","document":{"type":"root","children":[{"type":"heading","level":2,"children":[{"type":"span","value":"🚪 들어가며"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"비례 배분(Proportional Share) 스케줄러"}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"공정 배분(fair share)"},{"type":"span","value":"이라고도 하며, "},{"type":"span","marks":["highlight"],"value":"반환 시간이나 응답 시간을 최적화하는 대신 스케줄러가 각 작업에게 CPU의 일정 비율을 보장"},{"type":"span","value":"하는 것이 목적"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"추첨 스케줄링(lottery scheduling)"}]},{"type":"paragraph","children":[{"type":"span","value":"비례 배분 스케줄링 중 하나로,"},{"type":"span","marks":["highlight"],"value":" 다음 실행될 프로세스를 추첨을 통해 결정"},{"type":"span","value":"한다. "},{"type":"span","marks":["highlight"],"value":"더 자주 수행되어야 하는 프로세스에게 당첨 기회를 더 많이"},{"type":"span","value":" 주는 방식이다."}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"1️⃣ 기본 개념: 추첨권 = 나의 몫"}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"추첨권(티켓)"},{"type":"span","value":": 추첨 스케줄링의 근간을 이룸."}]},{"type":"paragraph","children":[{"type":"span","value":"추첨권은 "},{"type":"span","marks":["highlight"],"value":"프로세스가 받야야 할 자원의 몫"},{"type":"span","value":"을 나타내는 데 사용"}]},{"type":"paragraph","children":[{"type":"span","value":"예시) 프로세스 A가 75장의 추첨권, B가 25장의 추첨권을 가지고 있는 상황\n➡️ A에가 75%, B에게 25%의 CPU를 각각 할당하는 것이 목적"}]},{"type":"paragraph","children":[{"type":"span","value":"추첨 스케줄링은 이러한 목적은 타임 슬라이스가 끝날 때마다 "},{"type":"span","marks":["highlight"],"value":"확률적"},{"type":"span","value":"으로(결정적이지는 X) 달성"}]},{"type":"paragraph","children":[{"type":"span","value":"🎯 "},{"type":"span","marks":["underline"],"value":"무작위성"},{"type":"span","value":"의 이용: 추첨 스케줄링의 장점\n[장점 1] 전통적인 방식이 잘 해결하지 못하는 특이 상황에 잘 대응\n[장점 2] 매우 가벼움(관리해야 할 상태 정보가 거의 없기 때문)\n[장점 3] 매우 빠름(난수 발생 시간이 빠르기만 하다면)"}]},{"type":"paragraph","children":[{"type":"span","value":"스케줄러는 전체 몇 장의 추첨권이 있는지 알아야 한다.\n다음 예시를 통해 이를 알아보자."}]},{"type":"paragraph","children":[{"type":"span","value":"추첨권은 0 - 99의 숫자이며 프로세스 A가 0 - 74의 추첨권을, B가 75 - 99의 추첨권을 가지고 있다고 가정하자."}]},{"code":"63 85 70 39 76 17 29 41 36 39 10 99 68 83 63 62 43 0 49 49","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"이에 따른 스케줄링 결과는 다음과 같다."}]},{"code":"A B A A B A A A A A A A B A B A A A A A","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"여기서 우리는 "},{"type":"span","marks":["highlight"],"value":"무작위성은 원하는 비율을 정확히 보장하지는 않는다"},{"type":"span","value":"는 것을 알 수 있다.(예시에서 A는 80%, B는 20%의 타임 슬라이스를 획득) 하지만, 두 작업이 "},{"type":"span","marks":["highlight"],"value":"장시간 실행될수록, 원하는 비율을 달성할 가능성이 높아진다."},{"type":"span","value":" "}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"2️⃣ 추첨 기법"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"추첨권 화폐(ticket currency)"}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"사용자가 추첨권을 자신의 화폐 가치로 추첨권을 자유롭게 할당할 수 있도록 허용"},{"type":"span","value":"한다."}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"시스템은 자동적으로 화폐 가치를 변환"},{"type":"span","value":"한다."}]},{"type":"paragraph","children":[{"type":"span","value":"다음의 예시와 함께 이를 알아보자."}]},{"type":"paragraph","children":[{"type":"span","value":"사용자 A, B가 시스템으로부터 100장의 추첨권을 받았다고 가정하자. 사용자 A는 실행 중인 두 개의 작업 A1, A2에 자신이 정한 화폐 총 1000장 중 각각 500장 씩을 할당하고, B는 실행 중인 하나의 작업 B1에 자신의 정한 화폐 총 10장 중 10장 모두를 할당했다고 해보겠습니다."}]},{"code":"User A → 500 (A's currency) to A1 → 50 (global currency)\n       → 500 (A's currency) to A2 → 50 (global currency)\nUser B → 10 (B's currency) to B1 → 100 (global currency)","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"즉, 각자가 정한 화폐를 시스템이 전역 화폐로 변환하고 전역 추첨권 화폐량(예시에서는 총 200장)을 기준으로 추첨을 진행한다."}]},{"type":"heading","level":3,"children":[{"type":"span","value":"추첨권 양도(ticket transfer)"}]},{"type":"paragraph","children":[{"type":"span","marks":["highlight"],"value":"양도를 통하여 프로세스는 일시적으로 추첨권을 다른 프로세스에게 넘겨줄 수 있다."}]},{"type":"paragraph","children":[{"type":"span","value":"이 기능은 "},{"type":"span","marks":["highlight"],"value":"클라이언트/서버 환경에서 특히 유용"},{"type":"span","value":"\n➡️ 클라이언트 프로세스는 서버에게 메시지를 보내 자신을 대신해 특정 작업을 해달라고 요청\n➡️ 클라이언트는 작업이 빨리 완료될 수 있도록 서버에게 추첨권을 전달 (client ➡️ server)\n➡️ 서버가 요청을 완수하면 추첨권을 다시 클라이언트에게 반환 (server ➡️ client)"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"추첨권 팽장(ticket inflation)"}]},{"type":"paragraph","children":[{"type":"span","value":"프로세스는 "},{"type":"span","marks":["highlight"],"value":"일시적으로 자신이 소유한 추첨권의 수를 늘이거나 줄일 수 있다."}]},{"type":"paragraph","children":[{"type":"span","value":"이 기법은 "},{"type":"span","marks":["highlight"],"value":"프로세스들이 서로 신뢰할 때 유용"},{"type":"span","value":"\n➡️ 상호 경쟁하는 경우 특정 프로세스가 매우 많은 양의 추첨권을 자신에게 할당하여 컴퓨터를 장악할 수 있기 때문"}]},{"type":"paragraph","children":[{"type":"span","value":"어떤 프로세스가 많은 CPU 시간이 필요한 경우\n➡️ "},{"type":"span","marks":["highlight"],"value":"다른 프로세스들과 통신하지 않고 시스템에게 이를 알려 혼자 추첨권의 가치를 상향 조정"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"3️⃣ 구현"}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"4️⃣"}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"5️⃣"}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"6️⃣"}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"📚"}]}]}}}}},"pageContext":{"id":"143121405","locale":"ko-KR"}},
    "staticQueryHashes": ["1034768456","1118752904","2342916782","2757196681","3415878905","3879866231","4195094990"]}