{"componentChunkName":"component---src-templates-article-jsx","path":"/blog/development/os-free-space-management","result":{"data":{"datoCmsMiscTextString":{"locale":"ko-KR","updatedAtText":"업데이트됨","nextReadText":"관련있는 게시물"},"datoCmsBlogPost":{"locale":"ko-KR","originalId":"179076819","title":"[운영체제][OSTEP] 빈 공간 관리","seo":{"seoTitle":"[운영체제][OSTEP] 빈 공간 관리","seoDescription":"메모리의 빈 공간을 관리하는 방법에 대해 공부해봅니다.","seoImage":{"seoImageUrl":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format"}},"subtitle":"메모리의 빈 공간을 관리하는 방법에 대해 공부해봅니다.","coverImage":{"coverImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.25&w=860 215w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.5&w=860 430w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&w=860 860w","sizes":"(min-width: 860px) 860px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgLCgoLDhMVDhcNDh0VDxUSGhYdHSIVFhUaKysjGh0oHSEWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLCgUFEBAOEC8oIhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIAAwAGAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAFAQQGAP/EAB0QAAEEAgMAAAAAAAAAAAAAAAEAAgMEESEFEjL/xAAWAQADAAAAAAAAAAAAAAAAAAAAAQP/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDD1KM1uPLjpIRUI4GZc4aRXH25hTOHqqbth7yDIVIiXI2IQzqCoREhL/RyuQH/2Q=="},"width":860,"height":430}},"meta":{"updatedAt":"2023-07-26T16:56:17.766+09:00","firstPublishedAt":"2023-07-23T16:30:25.940+09:00"},"categoryLink":{"title":"개발 공부","id":"4743072"},"author":{"authorName":"손승열(Son Seungyeol)","picture":{"authorPictureData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 60px) 60px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBgoICAgWEQ8LDhgYDhUNDhgNDw8NFxUdGBYfFhUaHysjGikoHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OHBANHDUcIig7NS81NS81MjUvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAFAMBIgACEQEDEQH/xAAYAAEAAwEAAAAAAAAAAAAAAAAABQYHAv/EAB4QAAICAgMBAQAAAAAAAAAAAAABAgMFBgQRQXEi/8QAFQEBAQAAAAAAAAAAAAAAAAAABAP/xAAaEQACAwEBAAAAAAAAAAAAAAAAAQIDEhMR/9oADAMBAAIRAxEAPwDT8/1LHSK/r67scevSfz99VXBkm/Cva/zKle/pCc/JoRXWsFujxvygcLI1pAXqQTmjONm2RzpceyCwmwxpsbbADWJdBFbeCfe2wXoAGpIL6z//2Q=="},"width":60,"height":60}}},"relatedPosts":[{"id":"177405298","meta":{"updatedAt":"2023-07-18T23:24:51.666+09:00"},"categoryLink":{"title":"개발 공부"},"coverImage":{"gatsbyImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.09&w=860 75w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.18&w=860 150w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.35&w=860 300w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?auto=format&dpr=0.7&w=860 600w","sizes":"(min-width: 300px) 300px, 100vw"}},"layout":"constrained","width":300,"height":120},"squaredImage":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430","srcSet":"https://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.06&fit=crop&fp-x=0.5&fp-y=0.5&w=430 25w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.12&fit=crop&fp-x=0.5&fp-y=0.5&w=430 50w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.24&fit=crop&fp-x=0.5&fp-y=0.5&w=430 100w,\nhttps://www.datocms-assets.com/66479/1686988115-ostep.jpg?ar=1&auto=format&crop=focalpoint&dpr=0.47&fit=crop&fp-x=0.5&fp-y=0.5&w=430 200w","sizes":"(min-width: 100px) 100px, 100vw"}},"layout":"constrained","placeholder":{"fallback":"data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHBwgHBhINEBAQCggUDg0IDgcHFh0JFhEYFxUZGCIVFhUaHysjGh0oHRUWJDUlKC0vMjIyGSI4PTcwPCsxMi8BCgsLDg0OEg4REC8dFhwvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL//AABEIABgAGAMBIgACEQEDEQH/xAAaAAEBAAIDAAAAAAAAAAAAAAAABAUGAQID/8QAHRAAAgICAwEAAAAAAAAAAAAAAAIDBAEREhQVBf/EABYBAQEBAAAAAAAAAAAAAAAAAAADAf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/ANASs2WLoaraMl1o0O241wSYlSHjgHM9hVAEFr6bKSemzAAeclpnAAH/2Q=="},"width":100,"height":100}},"author":{"authorName":"손승열(Son Seungyeol)","picture":{"authorImageData":{"images":{"sources":[],"fallback":{"src":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77","srcSet":"https://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.11&w=77 8w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.2&w=77 15w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.39&w=77 30w,\nhttps://www.datocms-assets.com/66479/1649735652-kakaotalk_20220412_124457267.jpg?auto=format&dpr=0.78&w=77 60w","sizes":"(min-width: 30px) 30px, 100vw"}},"layout":"constrained","width":30,"height":30}}},"subtitle":"대용량 주소 공간을 지원하는 방법에 대해 공부해봅니다.","title":"[운영체제][OSTEP] 세그멘테이션"}],"structuredBody":{"blocks":[],"links":[{"id":"177405298"}],"value":{"schema":"dast","document":{"type":"root","children":[{"type":"heading","level":2,"children":[{"type":"span","value":"🚪 들어가며"}]},{"type":"paragraph","children":[{"type":"span","value":"빈 공간 관리가 어려운 경우: 관리하는 공간이 "},{"type":"span","marks":["highlight"],"value":"가변-크기 빈 공간들의 집합"},{"type":"span","value":"으로 구성된 경우\nex1) 사용자-수준 메모리 할당 라이브러리("},{"type":"span","marks":["code"],"value":"malloc()"},{"type":"span","value":", "},{"type":"span","marks":["code"],"value":"free()"},{"type":"span","value":")\nex2) "},{"type":"span","marks":["underline"],"value":"세그멘테이션"},{"type":"span","value":"으로 물리 메모리를 관리하는 운영체제\n➡️ 위 예시들과 같은 경우 "},{"type":"span","marks":["highlight"],"value":"외부 단편화"},{"type":"span","value":" 존재"}]},{"type":"paragraph","children":[{"type":"span","value":"(빈 공간들의 전체 크기) > (요청된 크기) 이더라도 하나의 연속된 영역 존재X 일 경우\n➡️ 요청 실패"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"1️⃣ 가정"}]},{"type":"paragraph","children":[{"type":"span","marks":["code"],"value":"malloc()"},{"type":"span","value":"과 "},{"type":"span","marks":["code"],"value":"free()"},{"type":"span","value":"에서 제공하는 것과 같은 기본 인터페이스를 가정"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"void *malloc(size_t size)"}]},{"type":"paragraph","children":[{"type":"span","value":"인자: 응용 프로그램의 요청 바이트 수\n반환: 요청된 크기와 같거나 큰 영역을 가리키는 void 포인터"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"void free(void *ptr)"}]},{"type":"paragraph","children":[{"type":"span","value":"인자: 포인터\n반환: 해당 영역을 해제"}]},{"type":"paragraph","children":[{"type":"span","value":"위의 루틴들을 포함하는 라이브러리가 관리하는 공간: "},{"type":"span","marks":["highlight"],"value":"힙(heap)"}]},{"type":"paragraph","children":[{"type":"span","value":"힙의 "},{"type":"span","marks":["highlight"],"value":"빈 공간"},{"type":"span","value":" 관리: 일반적인 "},{"type":"span","marks":["highlight"],"value":"링크드리스트"},{"type":"span","value":" 사용(반드시 리스트일 필요X)"}]},{"type":"paragraph","children":[{"type":"span","value":"할당된 메모리 > 요청한 메모리\n➡️ 할당 청크의 내부에서 낭비가 발생: "},{"type":"span","marks":["highlight"],"value":"내부 단편화"}]},{"type":"paragraph","children":[{"type":"span","value":"클라이언트에게 할당된 메모리는 다른 위치로 재배치될 수 없다고 가정\n➡️ ⚠️ 단편화 해결에 유용하게 사용되는 빈 공간의 "},{"type":"span","marks":["highlight"],"value":"압축"},{"type":"span","value":"은 이 경우 "},{"type":"span","marks":["underline"],"value":"사용 불가능"}]},{"type":"paragraph","children":[{"type":"span","value":"운영체제가 세그멘트를 구현할 때에는 단편화 해결을 위해 압축을 사용할 수 있음\n➡️ "},{"item":"177405298","meta":[{"id":"target","value":"_blank"}],"type":"itemLink","children":[{"type":"span","value":"세그멘테이션"}]},{"type":"span","value":" 내용 참고"}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"2️⃣ 저수준 기법들"}]},{"type":"heading","level":3,"children":[{"type":"span","value":"분할과 병합"}]},{"type":"paragraph","children":[{"type":"span","value":"빈 공간 리스트: 힙에 있는 빈 공간들의 집합"}]},{"type":"paragraph","children":[{"type":"span","value":"30바이트의 힙이 있다고 가정하자."}]},{"code":"┌──────────┬────────────┬────────────┐\n│   free   │    used    │    free    │\n└──────────┴────────────┴────────────┘\n0          10           20           30","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"이 힙의 빈 공간 리스트는 다음과 같이 나타날 수 있다."}]},{"code":"       ┌─────────┐   ┌──────────┐\n       │ addr: 0 │   │ addr: 20 │\nhead → │         │ → │          │ → NULL\n       │ len: 10 │   │ len: 10  │\n       └─────────┘   └──────────┘","type":"code"},{"type":"paragraph","children":[{"type":"span","value":"이 예시의 경우 10바이트를 초과하는 모든 요청은 실패하여 NULL을 반환한다.\n10바이트에 대한 요청은 둘 중 하나의 빈 청크를 사용하여 쉽게 충족된다.\n이때, "},{"type":"span","marks":["underline"],"value":"10바이트보다 적은 요청"},{"type":"span","value":"에 대해서는 어떤 일이 일어날까?"}]},{"type":"paragraph","children":[{"type":"span","value":"메모리를 1바이트만 요청했다고 가정 ➡️ 할당기(allocator)는 "},{"type":"span","marks":["highlight"],"value":"분할(splitting)"},{"type":"span","value":" 작업을 수행"}]},{"type":"paragraph","children":[{"type":"span","value":"이는 "},{"type":"span","marks":["highlight"],"value":"요청을 만족시킬 수 있는 빈 청크를 찾아 둘로 분할"},{"type":"span","value":"한 후 "},{"type":"span","marks":["highlight"],"value":"첫 번째 청크는 호출자에게 반환"},{"type":"span","value":"하고 "},{"type":"span","marks":["highlight"],"value":"두 번째 청크는 리스트"},{"type":"span","value":"에 남게하는 작업"}]},{"type":"paragraph","children":[{"type":"span","value":"위의 예시에서 할당기가 두 번째 원소를 사용하여 요청을 충족시키기로 한 경우 최종적으로 빈 공간 리스트는 다음과 같이 바뀐다."}]},{"code":"       ┌─────────┐   ┌──────────┐\n       │ addr: 0 │   │ addr: 21 │\nhead → │         │ → │          │ → NULL\n       │ len: 10 │   │ len: 9   │\n       └─────────┘   └──────────┘","type":"code"},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"3️⃣"}]},{"type":"paragraph","children":[{"type":"span","value":""}]},{"type":"thematicBreak"},{"type":"heading","level":2,"children":[{"type":"span","value":"4️⃣"}]}]}}}}},"pageContext":{"id":"179076819","locale":"ko-KR"}},"staticQueryHashes":["1034768456","1118752904","2342916782","2757196681","3415878905","3879866231","4195094990"]}